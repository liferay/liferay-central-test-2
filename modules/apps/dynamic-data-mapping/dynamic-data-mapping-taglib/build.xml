<?xml version="1.0"?>
<!DOCTYPE project>

<project>
	<property name="import.shared" value="dynamic-data-mapping-api,dynamic-data-mapping-service,../portlet-display-template/portlet-display-template" />
	<property name="portal.source.dir" value="../../../.." />

	<import file="${portal.source.dir}/tools/sdk/build-common-osgi-plugin.xml" />

	<property name="auto.deploy.dir" value="${liferay.home}/osgi/modules" />

	<path id="portal.classpath">
		<pathelement path="${env.JAVA_HOME}/lib/tools.jar;${portal.source.dir}/classes;${portal.source.dir}/modules/core/registry-api/classes;${portal.source.dir}/portal-impl/classes;${portal.source.dir}/portal-impl/test-classes/integration;${portal.source.dir}/portal-impl/test-classes/unit;${portal.source.dir}/portal-service/classes;${portal.source.dir}/portal-service/test-classes/unit;${portal.source.dir}/portal-test/classes;${portal.source.dir}/portal-test-internal/classes;${portal.source.dir}/portal-web/docroot/WEB-INF/classes;${portal.source.dir}/portal-web/test-classes/functional;${portal.source.dir}/portal-web/test-classes/functional-generated;${portal.source.dir}/util-bridges/classes;${portal.source.dir}/util-java/classes;${portal.source.dir}/util-java/test-classes/unit;${portal.source.dir}/util-slf4j/classes;${portal.source.dir}/util-taglib/classes" />
		<fileset dir="${portal.source.dir}/lib/development" includes="*.jar" />
		<fileset dir="${portal.source.dir}/lib/global" includes="*.jar" />
		<fileset dir="${portal.source.dir}/lib/portal" includes="*.jar" />
	</path>

	<path id="tagbuilder.dependencies.classpath">
		<path refid="portal.classpath" />
		<pathelement path="${portal.source.dir}/modules/apps/dynamic-data-mapping/dynamic-data-mapping-api/classes" />
	</path>

	<target name="build-taglibs">
		<java
			classname="com.liferay.alloy.tools.tagbuilder.TagBuilder"
			classpathref="tagbuilder.dependencies.classpath"
			fork="true"
			maxmemory="256m"
			newenvironment="true"
		>
			<jvmarg value="-Dtagbuilder.components.xml=liferay-ddm.xml" />
			<jvmarg value="-Dtagbuilder.copyright.year=present" />
			<jvmarg value="-Dtagbuilder.docroot.dir=src/META-INF/resources/" />
			<jvmarg value="-Dtagbuilder.java.dir=src/com/liferay/dynamic/data/mapping/taglib/servlet/" />
			<jvmarg value="-Dtagbuilder.java.package=com.liferay.dynamic.data.mapping.taglib.servlet" />
			<jvmarg value="-Dtagbuilder.jsp.common.init.path=/init.jsp" />
			<jvmarg value="-Dtagbuilder.jsp.dir=/" />
			<jvmarg value="-Dtagbuilder.osgi.module.symbolic.name=com.liferay.dynamic.data.mapping.taglib" />
			<jvmarg value="-Dtagbuilder.templates.dir=com/liferay/alloy/tools/tagbuilder/templates/" />
			<jvmarg value="-Dtagbuilder.tld.dir=src/META-INF/resources/" />
		</java>
	</target>
</project>
