import com.liferay.gradle.plugins.node.tasks.DownloadNodeModuleTask

dependencies {
	compile group: "org.osgi", name: "org.osgi.core", version: "5.0.0"
}

ext {
	babelCoreVersion = "5.6.14"
}

liferay {
	deployDir = file("${liferayHome}/osgi/modules")
}

task buildBabelCore(type: Copy)
task downloadBabelCore(type: DownloadNodeModuleTask)

buildBabelCore {
	dependsOn downloadBabelCore
	from new File(node.nodeDir, "node_modules/babel-core/browser-polyfill.min.js")
	into "classes/META-INF/resources"
}

classes {
	dependsOn buildBabelCore
}

downloadBabelCore {
	moduleName = "babel-core"
	moduleVersion = babelCoreVersion
}