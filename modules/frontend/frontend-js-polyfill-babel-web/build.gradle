import com.liferay.gradle.plugins.node.tasks.DownloadNodeModuleTask


task buildBabelCore(type: Copy)
task downloadBabelCore(type: DownloadNodeModuleTask)

String babelCoreVersion = "5.6.14"

buildBabelCore {
	dependsOn downloadBabelCore
	from new File(node.nodeDir, "node_modules/babel-core/browser-polyfill.min.js")
	into "classes/META-INF/resources"
}

classes {
	dependsOn buildBabelCore
}

dependencies {
	compile group: "org.osgi", name: "org.osgi.core", version: "5.0.0"
}

downloadBabelCore {
	moduleName = "babel-core"
	moduleVersion = babelCoreVersion
}

liferay {
	deployDir = file("${liferayHome}/osgi/modules")
}