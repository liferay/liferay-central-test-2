dependencies {
	compile group: "org.osgi", name: "org.osgi.core", version: "5.0.0"
}

ext {
	babelCoreVersion = "5.6.14"
}

liferay {
	deployDir = file("${liferayHome}/osgi/modules")
}

task buildBabelCore(type: Copy)
task downloadBabelCore(type: NpmTask)

buildBabelCore {
	dependsOn downloadBabelCore
	from new File(node.nodeModulesDir, "node_modules/babel-core/browser-polyfill.min.js")
	into "classes/META-INF/resources"
}

downloadBabelCore {
	args = ["install", "babel-core@${babelCoreVersion}"]
	workingDir = node.nodeModulesDir
}

classes {
	dependsOn buildBabelCore
}