<definition component-name="portal-collaboration">
	<var name="pageName" value="Blogs Page" />
	<var name="portletName" value="Blogs" />

	<set-up>
		<execute macro="User#firstLoginPG" />
	</set-up>

	<tear-down>
		<execute macro="BlogsEntry#tearDownCP" />

		<execute macro="Organization#tearDownCP" />

		<execute macro="Page#tearDownPG" />
	</tear-down>

	<command name="ConfigureBlogsPortletWithBlogsApplicationDisplayTemplate" priority="4">
		<var name="adtFile" value="portlet_display_template_basic.ftl" />
		<var name="adtType" value="Blogs" />
		<var name="displaySelection" value="Basic" />
		<var name="displaySelection2" value="Blogs Test ADT" />

		<execute macro="Page#addPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="${portletName}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="BlogsPortlet#configureDisplayTemplatePG">
			<var name="displaySelection" value="${displaySelection}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="ApplicationDisplayTemplates#addPG">
			<var name="adtFile" value="${adtFile}" />
			<var name="adtType" value="${adtType}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="ApplicationDisplayTemplates#tearDownPG" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Application Display Templates" />
		</execute>

		<execute macro="ApplicationDisplayTemplates#addCP">
			<var name="adtFile" value="${adtFile}" />
			<var name="adtType" value="${adtType}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="BlogsPortlet#configureDisplayTemplatePG">
			<var name="displaySelection" value="${displaySelection2}" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Application Display Templates" />
		</execute>

		<execute macro="ApplicationDisplayTemplates#tearDownCP" />
	</command>

	<command name="ViewParentOrganizationViaSelectOrganizationInBlogsConfiguration" priority="4">
		<var name="childOrg" value="true" />
		<var name="childOrgName" value="Org3" />
		<var name="orgName1" value="Org1" />
		<var name="orgName2" value="Org2" />
		<var name="orgName3" value="Org3" />
		<var name="orgType" value="Regular Organization" />
		<var name="parentOrg" value="true" />
		<var name="parentOrgName1" value="Org1" />
		<var name="parentOrgName2" value="" />

		<execute macro="Page#addPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Blogs Aggregator" />
		</execute>

		<execute macro="BlogsAggregator#viewSelectOrganizationNoPG">
			<var name="portletName" value="Blogs Aggregator" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="${orgName1}" />
			<var name="orgType" value="${orgType}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="${orgName2}" />
			<var name="orgType" value="${orgType}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="${orgName3}" />
			<var name="orgType" value="${orgType}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#selectParentOrganizationCP">
			<var name="orgName" value="${orgName3}" />
			<var name="parentOrg" value="${parentOrg}" />
			<var name="parentOrgName" value="${parentOrgName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#viewParentOrganizationCP">
			<var name="childOrg" value="${childOrg}" />
			<var name="childOrgName" value="${childOrgName}" />
			<var name="orgName" value="${orgName1}" />
			<var name="parentOrgName" value="${parentOrgName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#viewParentOrganizationCP">
			<var name="childOrg" value="false" />
			<var name="orgName" value="${orgName2}" />
			<var name="parentOrgName" value="${parentOrgName2}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Organization#viewParentOrganizationBlogsAggregatorPG">
			<var name="orgName" value="${orgName2}" />
			<var name="parentOrgName" value="${parentOrgName2}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Organization#viewParentOrganizationBlogsAggregatorPG">
			<var name="orgName" value="${orgName3}" />
			<var name="parentOrgName" value="${parentOrgName1}" />
		</execute>
	</command>
</definition>