<definition component-name="portal-knowledge-base">
	<property name="custom.properties" value="default.layout.template.id=1_column" />
	<property name="testray.main.component.name" value="Knowledge Base" />

	<var name="pageName" value="Knowledge Base Display Page" />
	<var name="portletName" value="Knowledge Base Display" />

	<set-up>
		<execute macro="TestCase#setUpPortalInstance" />

		<execute macro="User#firstLoginPG" />

		<execute macro="Page#add">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="SitePageNavigator#gotoEditPage">
			<var name="page" value="${pageName}" />
		</execute>

		<execute macro="Page#editPageLayoutColumn">
			<var name="columnName" value="1 Column" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="${portletName}" />
		</execute>
	</set-up>

	<tear-down>
		<var method="TestPropsUtil#get('test.portal.instance')" name="testPortalInstance" />

		<if>
			<equals arg1="${testPortalInstance}" arg2="true" />
			<then>
				<execute macro="PortalInstances#tearDownCP" />
			</then>
			<else>
				<execute macro="BlogsEntry#tearDownCP" />

				<execute macro="KBArticle#tearDownCP" />

				<execute macro="Page#tearDownPG" />
			</else>
		</if>
	</tear-down>

	<command name="AddChildArticle" priority="4">
		<var name="kbArticleContent" value="Knowledge Base Article Content" />
		<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		<var name="kbChildArticleContent" value="Child Article Content" />
		<var name="kbChildArticleTitle" value="Child Article Title" />
		<var name="pageName" value="Knowledge Base Display Page" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="${kbArticleContent}" />
			<var name="kbArticleTitle" value="${kbArticleTitle}" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="KBArticle#addChildPGViaKBDisplay">
			<var name="kbArticleContent" value="${kbChildArticleContent}" />
			<var name="kbArticleTitle" value="${kbChildArticleTitle}" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="KBArticle#viewChildArticlePG">
			<var name="kbArticleTitle" value="${kbArticleTitle}" />
			<var name="kbChildArticleContent" value="${kbChildArticleContent}" />
			<var name="kbChildArticleTitle" value="${kbChildArticleTitle}" />
		</execute>
	</command>

	<command name="AddKBArticleContentNull" priority="3">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="" />
			<var name="kbArticleInvalidContent" value="true" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewNoPGViaKBDisplay">
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>
	</command>

	<command name="AddKBArticleSuggestion" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewPGViaKBDisplay">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticleSuggestion#addPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
			<var name="kbSuggestionBody" value="Knowledge Base Article Suggestion" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#gotoSuggestionsNavigationPG" />

		<execute macro="KBArticleSuggestion#gotoSuggestionStatusNew">
			<var name="suggestionCount" value="1" />
		</execute>

		<execute macro="KBArticleSuggestion#viewPG">
			<var name="kbSuggestionBody" value="Knowledge Base Article Suggestion" />
			<var name="kbSuggestionUserName" value="Test Test" />
			<var name="status" value="New" />
		</execute>
	</command>

	<command name="AddKBArticleTitleNull" priority="3">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCPWithInvalidTitle">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewNoPGViaKBDisplay">
			<var name="kbArticleTitle" value="Knowledge Base Article Content" />
		</execute>
	</command>

	<command name="AddMultipleKBArticleSuggestions" priority="4">
		<var name="kbArticleCounterList" value="1,2" />
		<var name="kbSuggestionCounterList" value="1,2,3" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<for list="${kbArticleCounterList}" param="articleCount" >
			<execute macro="KBArticle#addCP">
				<var name="kbArticleContent" value="Knowledge Base Article${articleCount} Content" />
				<var name="kbArticleTitle" value="Knowledge Base Article${articleCount} Title" />
			</execute>
		</for>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#gotoKBArticleViaKBDisplayHierarchyNavigationPG">
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
		</execute>

		<for list="${kbSuggestionCounterList}" param="suggestionCount" >
			<execute macro="KBArticleSuggestion#addPG">
				<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
				<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion${suggestionCount}" />
			</execute>
		</for>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#gotoKBArticleViaKBDisplayHierarchyNavigationPG">
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
		</execute>

		<execute function="AssertTextEquals" locator1="KnowledgeBase#LINK_THERE_ARE_SUGGESTIONS" value1="There are 3 suggestions. (3 Pending)" />

		<for list="${kbSuggestionCounterList}" param="suggestionCount" >
			<execute macro="KBArticle#gotoSuggestionsNavigationPG" />

			<execute macro="KBArticleSuggestion#viewPG">
				<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion${suggestionCount}" />
				<var name="kbSuggestionUserName" value="Test Test" />
				<var name="status" value="New" />
			</execute>
		</for>
	</command>

	<command name="CancelKBArticleSuggestion" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticleSuggestion#cancelSuggestionPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
			<var name="kbSuggestionBody" value="Knowledge Base Article Suggestion" />
		</execute>
	</command>

	<command name="CannotViewDuplicateBreadcrumbsWhenAddingParentArticle" priority="3" >
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content Parent" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title Parent" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content Child" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title Child" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#gotoKBArticleViaKBDisplayHierarchyNavigationPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Title Child" />
		</execute>

		<execute macro="KBArticle#moveArticleViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Title Child" />
		</execute>

		<execute function="SelectFrame" locator1="KnowledgeBaseSelectParent#IFRAME" />
		<execute function="AssertElementPresent" locator1="KnowledgeBaseSelectParent#BREADCRUMB_HOME" />
		<execute function="AssertElementNotPresent" locator1="//ul[contains(@class,'breadcrumb')]//a[contains(.,'Home')]/following-sibling::ul[contains(@class,'breadcrumb')]" />
	</command>

	<command name="ChangeSocialBookmarkSitesForKBArticle" priority="4">
		<property name="hook.plugins.includes" value="social-bookmarks-hook" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#configureKBSocialBookmarkSites">
			<var name="enableSocialBookmarkSites" value="twitter,facebook,plusone,addthis,blinklist,delicious,digg,evernote,linkedin,newsvine,reddit,slashdot,stumbleupon,technorati,tuenti" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute function="Click" locator1="Icon#SHARE" />

		<for list="Twitter,Facebook,Google+,LinkedIn,BlinkList,Delicious,Digg,Evernote,Newsvine,Reddit,Slashdot,StumbleUpon,Technorati,Tuenti" param="socialBookmarkSites" >
			<execute macro="KBArticle#viewEnabledKBSocialBookmarkSites">
				<var name="socialBookmarkSite" value="${socialBookmarkSites}" />
			</execute>
		</for>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#configureKBSocialBookmarkSites">
			<var name="disableSocialBookmarkSites" value="twitter,newsvine,reddit,slashdot,stumbleupon,technorati,tuenti" />
			<var name="enableSocialBookmarkSites" value="facebook,plusone,addthis,blinklist,delicious,digg,evernote,linkedin" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<for list="Facebook,Google+,AddThis,LinkedIn,BlinkList,Delicious,Digg,Evernote" param="socialBookmarkSites" >
			<execute macro="KBArticle#viewEnabledKBSocialBookmarkSites">
				<var name="socialBookmarkSite" value="${socialBookmarkSites}" />
			</execute>
		</for>

		<for list="Twitter,Newsvine,Reddit,Slashdot,StumbleUpon,Technorati,Tuenti" param="socialBookmarkSites" >
			<execute macro="KBArticle#viewDisabledKBSocialBookmarkSites">
				<var name="socialBookmarkSite" value="${socialBookmarkSites}" />
			</execute>
		</for>
	</command>

	<command name="DeleteKBArticleViaKBDisplay" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#deletePGViaKBDisplay">
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#viewDefaultViaKBDisplayPG" />
	</command>

	<command name="EditChildArticle" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Parent Content 1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="KBArticle#addChildArticleViaKBAdmin">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
			<var name="kbChildArticleContent" value="Knowledge Base Article Parent Title 1 Child Content 1" />
			<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 1 Child 1" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewParentArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title" />
		</execute>

		<execute macro="KBArticle#viewChildArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#editPGViaKBDisplay">
			<var name="kbArticleContentEdit" value="Knowledge Base Article Parent Content Edited 1" />
			<var name="kbArticleTitleEdit" value="Knowledge Base Article Parent Title Edited 1" />
		</execute>

		<execute macro="KBArticle#gotoKBChildArticleViaKBDisplayHierarchyNavigationPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title Edited 1" />
			<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 1 Child 1" />
		</execute>

		<execute macro="KBArticle#editPGViaKBDisplay">
			<var name="kbArticleContentEdit" value="Knowledge Base Child Article Content Edited 1" />
			<var name="kbArticleTitleEdit" value="Knowledge Base Article Parent Title Edited 1 Child 1" />
		</execute>

		<execute macro="KBArticle#viewParentArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title Edited" />
		</execute>

		<execute macro="KBArticle#viewChildArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title Edited 1" />
		</execute>
	</command>

	<command name="EditKBArticle" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#editPGViaKBDisplay">
			<var name="kbArticleContentEdit" value="Knowledge Base Article Content Edit" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
			<var name="kbArticleTitleEdit" value="Knowledge Base Article Title Edit" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content Edit" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title Edit" />
		</execute>
	</command>

	<command name="EditKBArticleDisplaySettingsViaKBDisplayConfiguration" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewDefaultKBDisplaySettingsPG" />

		<execute macro="KBArticle#configureKBDisplaySettingsPG">
			<var name="history" value="false" />
			<var name="print" value="false" />
			<var name="subscribe" value="false" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewKBDisplayPG">
			<var name="history" value="false" />
			<var name="print" value="false" />
			<var name="subscribe" value="false" />
		</execute>
	</command>

	<command name="RateKBArticleWithoutSuggestions" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#rateArticlePG">
			<var name="articleVoteCount" value="1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
			<var name="rateUp" value="true" />
		</execute>
	</command>

	<command name="SelectParentArticleViaKBDisplay" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Parent Content 1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Parent Content 1 Child 1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1 Child 1" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#gotoKBArticleViaKBDisplayHierarchyNavigationPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1 Child 1" />
		</execute>

		<execute macro="KBArticle#moveArticleViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1 Child 1" />
		</execute>

		<execute macro="KBArticle#selectParentViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="KBArticle#viewParentArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title" />
		</execute>

		<execute macro="KBArticle#viewChildArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>
	</command>

	<command name="ViewEditedKBArticleTitleHistory" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="KB Article Content" />
			<var name="kbArticleTitle" value="KB Article Title" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#editCP">
			<var name="kbArticleContentEdit" value="KB Article Content Edit" />
			<var name="kbArticleTitle" value="KB Article Title" />
			<var name="kbArticleTitleEdit" value="KB Article Title Edit" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewArticleHistoryPG">
			<var name="kbArticleContent" value="KB Article Content Edit" />
			<var name="kbArticleContentAddedDiff" value="Edit" />
			<var name="kbArticleHistorySource" value="1 (Source)" />
			<var name="kbArticleHistoryTarget" value="2 (Target)" />
			<var name="kbArticleTitle" value="KB Article Title Edit" />
			<var name="kbArticleTitleAddedDiff" value="Edit" />
			<var name="viewNoXMLInTitle" value="true" />
		</execute>
	</command>

	<command name="ViewKBArticleByPriority" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article1 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article2 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article2 Title" />
		</execute>

		<execute macro="KBArticle#setPriorityCP">
			<var name="kbArticleContent" value="Knowledge Base Article2 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article2 Title" />
			<var name="kbPriority" value="1.0" />
		</execute>

		<execute macro="KBArticle#setPriorityCP">
			<var name="kbArticleContent" value="Knowledge Base Article1 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
			<var name="kbPriority" value="2.0" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article2 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article2 Title" />
		</execute>
	</command>

	<command name="ViewKBArticleSuggestionsWorkflow" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article1 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticleSuggestion#addPG">
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
			<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion" />
		</execute>

		<execute macro="KBArticle#gotoSuggestionsNavigationPG" />

		<execute macro="KBArticleSuggestion#gotoSuggestionStatusNew">
			<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion" />
			<var name="suggestionCount" value="1" />
		</execute>

		<execute macro="KBArticleSuggestion#moveToInProgressStatus">
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
			<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion" />
		</execute>

		<execute macro="KBArticle#gotoSuggestionsNavigationPG" />

		<execute macro="KBArticleSuggestion#gotoSuggestionStatusInProgress">
			<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion" />
			<var name="suggestionCount" value="1" />
		</execute>

		<execute macro="KBArticleSuggestion#moveToResolvedStatus">
			<var name="kbArticleTitle" value="Knowledge Base Article1 Title" />
			<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion" />
		</execute>

		<execute macro="KBArticle#gotoSuggestionsNavigationPG" />

		<execute macro="KBArticleSuggestion#gotoSuggestionStatusResolved">
			<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion" />
			<var name="suggestionCount" value="1" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#gotoSuggestionsNavigationPG" />

		<execute macro="KBArticleSuggestion#gotoSuggestionStatusNew">
			<var name="suggestionCount" value="0" />
		</execute>

		<execute macro="KBArticleSuggestion#viewDefaultNew" />

		<execute macro="KBArticleSuggestion#gotoSuggestionStatusInProgress">
			<var name="suggestionCount" value="0" />
		</execute>

		<execute macro="KBArticleSuggestion#viewDefaultInProgress" />

		<execute macro="KBArticleSuggestion#gotoSuggestionStatusResolved">
			<var name="suggestionCount" value="1" />
		</execute>

		<execute macro="KBArticleSuggestion#viewPG">
			<var name="kbSuggestionBody" value="Knowledge Base Article1 Suggestion" />
			<var name="kbSuggestionUserName" value="Test Test" />
			<var name="status" value="Resolved" />
		</execute>
	</command>

	<command name="ViewKBArticleViaDefaultFriendlyURL" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article2 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article2 Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<var attribute="href" locator="//div[@class='kbarticle-navigation']/ul/li/a[contains(.,'Knowledge Base Article2 Title')]" name="kbAricleFriendlyURL" />

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Welcome" />
		</execute>

		<execute function="Open" locator1="${kbAricleFriendlyURL}" />

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article2 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article2 Title" />
		</execute>
	</command>

	<command name="ViewKBArticleViaNavigationLinks" priority="3">
		<var name="kbArticleCounterList" value="1,2,3" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<for list="${kbArticleCounterList}" param="kbCount">
			<execute macro="KBArticle#addCP">
				<var name="kbArticleContent" value="Knowledge Base Article Content ${kbCount}" />
				<var name="kbArticleTitle" value="Knowledge Base Article Title ${kbCount}" />
			</execute>
		</for>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content 1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title 1" />
		</execute>

		<execute macro="KBArticle#viewNavigationLinksPG">
			<var name="next" value="true" />
			<var name="previous" value="false" />
		</execute>

		<execute function="Click" locator1="KnowledgeBaseArticle#NEXT" />

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content 2" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title 2" />
		</execute>

		<execute macro="KBArticle#viewNavigationLinksPG">
			<var name="next" value="true" />
			<var name="previous" value="true" />
		</execute>

		<execute function="Click" locator1="KnowledgeBaseArticle#NEXT" />

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content 3" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title 3" />
		</execute>

		<execute macro="KBArticle#viewNavigationLinksPG">
			<var name="next" value="false" />
			<var name="previous" value="true" />
		</execute>

		<execute function="Click" locator1="KnowledgeBaseArticle#PREVIOUS" />

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content 2" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title 2" />
		</execute>

		<execute macro="KBArticle#viewNavigationLinksPG">
			<var name="next" value="true" />
			<var name="previous" value="true" />
		</execute>

		<execute function="Click" locator1="KnowledgeBaseArticle#PREVIOUS" />

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content 1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title 1" />
		</execute>

		<execute macro="KBArticle#viewNavigationLinksPG">
			<var name="next" value="true" />
			<var name="previous" value="false" />
		</execute>
	</command>

	<command name="ViewKBArticleViaUserDefinedFriendlyURL" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article2 Content" />
			<var name="kbArticleFriendlyURL" value="Friendly Universal Resource Locator" />
			<var name="kbArticleTitle" value="Knowledge Base Article2 Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<var attribute="href" locator="//div[@class='kbarticle-navigation']/ul/li/a[contains(.,'Knowledge Base Article2 Title')]" name="kbAricleFriendlyURL" />

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Welcome" />
		</execute>

		<execute function="Open" locator1="${kbAricleFriendlyURL}" />

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article2 Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article2 Title" />
		</execute>
	</command>

	<command name="ViewKBArticleWithAllSocialBookmarkSites" priority="3">
		<property name="hook.plugins.includes" value="social-bookmarks-hook" />

		<var name="socialBookmarkSites" value="twitter,facebook,plusone,addthis,blinklist,delicious,digg,evernote,linkedin,newsvine,reddit,slashdot,stumbleupon,technorati,tuenti" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#configureKBSocialBookmarkSites">
			<var name="enableSocialBookmarkSites" value="${socialBookmarkSites}" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<for list="Twitter,Facebook,Google+,AddThis,LinkedIn,BlinkList,Delicious,Digg,Evernote,Newsvine,Reddit,Slashdot,StumbleUpon,Technorati,Tuenti" param="socialBookmarkSites" >
			<execute macro="KBArticle#viewEnabledKBSocialBookmarkSites">
				<var name="socialBookmarkSite" value="${socialBookmarkSites}" />
			</execute>
		</for>
	</command>

	<command name="ViewKBArticleWithBlogsEntryRelatedAsset" priority="3">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Blogs" />
		</execute>

		<execute macro="Blogs#addEntry">
			<var name="entryContent" value="Blogs Entry Content" />
			<var name="entryTitle" value="Blogs Entry Title" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleRelatedAssetTitle" value="Blogs Entry Title" />
			<var name="kbArticleRelatedAssetType" value="Blogs Entry" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleRelatedAssetTitle" value="Blogs Entry Title" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<var name="kbArticleRelatedAssetTitle" value="Blogs Entry Title" />
		<var name="key_kbArticleRelatedAssetTitle" value="${kbArticleRelatedAssetTitle}" />

		<execute function="AssertClick#assertTextClickAt" locator1="AssetRelatedAssets#KB_RELATED_ASSETS_LINKS" value1="${kbArticleRelatedAssetTitle}" />

		<execute macro="KBArticle#viewBlogsEntryRelatedAsset" />
	</command>

	<command name="ViewKBArticleWithEditedStarRatings" priority="3">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="ProductMenu#gotoControlPanelConfiguration">
			<var name="portlet" value="Instance Settings" />
		</execute>

		<execute macro="Navigator#gotoNavTab">
			<var name="navTab" value="Social" />
		</execute>

		<execute function="Select" locator1="Select#KNOWLEDGE_BASE_RATING" value1="Stars" />

		<execute function="AssertClickNoError" locator1="Button#SAVE" value1="Save" />

		<execute function="Confirm" value1="Existing ratings data values will be adapted to match the new ratings type even though it may not be accurate. Do you want to continue?" />

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#rateArticle1Star">
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#viewArticle1StarRatingPG" />

		<execute macro="KBArticle#rateArticleFrom1StarTo5Star" >
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#viewArticle5StarRatingPG" />
	</command>

	<command name="ViewKBArticleWithKBChildArticleHierarchyNavigation" priority="4">
		<var name="kbArticleCounterList" value="1,2,3" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<for list="${kbArticleCounterList}" param="articleCount">
			<execute macro="KBArticle#addCP">
				<var name="kbArticleContent" value="Knowledge Base Article Parent Content ${articleCount}" />
				<var name="kbArticleTitle" value="Knowledge Base Article Parent Title ${articleCount} " />
			</execute>
		</for>

		<for list="${kbArticleCounterList}" param="articleCount" >
			<execute macro="KBArticle#addChildArticleViaKBAdmin">
				<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
				<var name="kbChildArticleContent" value="Knowledge Base Article Parent Content 1 Child ${articleCount}" />
				<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 1 Child ${articleCount}" />
			</execute>
		</for>

		<execute macro="KBArticle#addChildArticleViaKBAdmin">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 2" />
			<var name="kbChildArticleContent" value="Knowledge Base Article Parent Content 2 Child 1" />
			<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 2 Child 1" />
		</execute>

		<execute macro="KBArticle#addChildArticleViaKBAdmin">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 2" />
			<var name="kbChildArticleContent" value="Knowledge Base Article Parent Content 2 Child 2" />
			<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 2 Child 2" />
		</execute>

		<execute macro="KBArticle#addChildArticleViaKBAdmin">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 3" />
			<var name="kbChildArticleContent" value="Knowledge Base Article Parent Content 3 Child 1" />
			<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 3 Child 1" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#gotoKBArticleViaKBDisplayHierarchyNavigationPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Parent Content 1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="KBArticle#viewParentArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title" />
		</execute>

		<execute macro="KBArticle#viewChildArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="KBArticle#viewChildArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 2" />
		</execute>

		<execute macro="KBArticle#viewChildArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 3" />
		</execute>

		<execute macro="KBArticle#gotoKBChildArticleViaKBDisplayHierarchyNavigationPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 2" />
			<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 2 Child 2" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Parent Content 2 Child 2" />
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 2 Child 2" />
		</execute>
	</command>

	<command name="ViewKBArticleWithoutConfiguration" priority="4">
		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewDefaultViaKBDisplayPG" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>
	</command>

	<command name="ViewKBArticleWithStarRatings" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="KBArticle#rateArticlePG">
			<var name="articleVoteCount" value="1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
			<var name="rateUp" value="true" />
		</execute>

		<execute macro="ProductMenu#gotoControlPanelConfiguration">
			<var name="portlet" value="Instance Settings" />
		</execute>

		<execute macro="Navigator#gotoNavTab">
			<var name="navTab" value="Social" />
		</execute>

		<execute function="Select" locator1="Select#KNOWLEDGE_BASE_RATING" value1="Stars" />

		<execute function="AssertClickNoError" locator1="Button#SAVE" value1="Save" />

		<execute function="Confirm" value1="Existing ratings data values will be adapted to match the new ratings type even though it may not be accurate. Do you want to continue?" />

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewArticle5StarRatingPG" />

		<execute macro="ProductMenu#gotoControlPanelConfiguration">
			<var name="portlet" value="Instance Settings" />
		</execute>

		<execute macro="Navigator#gotoNavTab">
			<var name="navTab" value="Social" />
		</execute>

		<execute function="Select" locator1="Select#KNOWLEDGE_BASE_RATING" value1="Thumbs" />

		<execute function="AssertClickNoError" locator1="Button#SAVE" value1="Save" />

		<execute function="Confirm" value1="Existing ratings data values will be adapted to match the new ratings type even though it may not be accurate. Do you want to continue?" />

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#rateArticlePG">
			<var name="articleVoteCount" value="1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>
	</command>

	<command name="ViewKBArticleWithXSSCodeInjectedTitle" priority="3">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleFriendlyURL" value="Title" />
			<var name="kbArticleTitle"><![CDATA[><img onerror="alert('xss')" src="xx" /><]]></var>
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute function="AssertAlertNotPresent" />

		<execute macro="KBArticle#viewViaKBDisplayPG">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle"><![CDATA[><img onerror="alert('xss')" src="xx" /><]]></var>
		</execute>
	</command>

	<command name="ViewKBChildArticleViaReadMoreLink" priority="4">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Parent Content 1" />
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
		</execute>

		<execute macro="KBArticle#addChildArticleViaKBAdmin">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1" />
			<var name="kbChildArticleContent" value="This is a child article. Lengthy articles are summarized on the KB Display portlet. When an article is summarized, a Read More link is present, which, when clicked, directs the reader to the rest of the article. Excerpt from Liferay.com: Modern portals include a full workflow enabled web content management system. Many portal websites include a great deal of content that requires regular updates. These updates are often accomplished by non-technical content contributors and need to be approved by content approvers in a workflow approval process. This last sentence of the child article should only be visible after clicking on Read More." />
			<var name="kbChildArticleTitle" value="Knowledge Base Article Parent Title 1 Child 1" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticle#viewParentArticleHierarchyViaKBDisplayPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title" />
		</execute>

		<execute macro="KBArticle#viewViaReadMoreLinkPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Parent Title 1 Child 1" />
		</execute>
	</command>

	<command name="ViewNoDuplicateKBSuggestionAfterRefresh" priority="3">
		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSitesContent">
			<var name="portlet" value="Knowledge Base" />
		</execute>

		<execute macro="KBArticle#addCP">
			<var name="kbArticleContent" value="Knowledge Base Article Content" />
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Knowledge Base Display Page" />
		</execute>

		<execute macro="KBArticleSuggestion#addPG">
			<var name="kbArticleTitle" value="Knowledge Base Article Title" />
			<var name="kbSuggestionBody" value="Knowledge Base Article Suggestion" />
		</execute>

		<execute function="Refresh" />

		<execute macro="KBArticleSuggestion#viewPG">
			<var name="kbSuggestionBody" value="Knowledge Base Article Suggestion" />
			<var name="kbSuggestionUserName" value="Test Test" />
			<var name="status" value="New" />
		</execute>

		<execute macro="KBArticleSuggestion#viewNoDuplicatePG">
			<var name="kbSuggestionBody" value="Knowledge Base Article Suggestion" />
			<var name="kbSuggestionUserName" value="Test Test" />
			<var name="kbThereAreSuggestionsLink" value="There is one suggestion. (1 Pending)" />
			<var name="status" value="New" />
		</execute>
	</command>
</definition>