<definition component-name="extra-apps-content-targeting">
	<property name="custom.properties" value="layout.parallel.render.enable=false" />
	<property name="ignore.errors" value="IX_DC6100CC" />
	<property name="testray.main.component.name" value="Content Targeting" />

	<set-up>
		<var method="TestPropsUtil#get('test.portal.instance')" name="testPortalInstance" />

		<if>
			<equals arg1="${testPortalInstance}" arg2="true" />
			<then>
				<execute macro="SignIn#signInPortalInstanceSetUp" />
			</then>
		</if>

		<execute macro="User#firstLoginPG" />

		<execute macro="Portlet#shutdownServer" />

		<execute macro="Portlet#startServer" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="SitePage#addCP">
			<var name="page" value="Public Pages" />
			<var name="siteName" value="Site Name" />
			<var name="sitePageName" value="Test Page Name" />
		</execute>
	</set-up>

	<tear-down>
		<var method="TestPropsUtil#get('test.portal.instance')" name="testPortalInstance" />

		<if>
			<equals arg1="${testPortalInstance}" arg2="true" />
			<then>
				<execute macro="PortalInstances#tearDownCP" />
			</then>
			<else>
				<execute macro="User#logoutAndLoginPG">
					<var name="userLoginEmailAddress" value="test@liferay.com" />
					<var name="userLoginFullName" value="Test Test" />
				</execute>

				<execute macro="Site#tearDownCP" />
			</else>
		</if>
	</tear-down>

	<command name="AddGlobalUserSegmentToSiteViaUserSegmentContentDisplayPortlet" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Global" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="Male Users" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Male" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Web Content" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddCP" />

		<execute macro="WebContent#addWithCategoryCP">
			<var name="categoryName" value="Male Users" />
			<var name="vocabularyName" value="User Segment" />
			<var name="webContentContent" value="Web Content targeted to a User Segment" />
			<var name="webContentTitle" value="Targeted Web Content Title" />
		</execute>

		<execute macro="WebContentNavigator#gotoEditCP">
			<var name="webContentTitle" value="Targeted Web Content Title" />
		</execute>

		<execute macro="WebContent#viewCategorizationCategoryCP">
			<var name="categoryNameList" value="Male Users" />
			<var name="vocabularyName" value="User Segment" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Test Page Name" />
			<var name="siteName" value="Site Name" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="User Segment Content Display" />
		</execute>

		<execute function="Refresh" />

		<execute macro="Portlet#gotoPortletOptions">
			<var name="portletOption" value="Configuration" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#configureDisplayContent">
			<var name="belongs" value="true" />
			<var name="contentTitle" value="Targeted Web Content Title" />
			<var name="contentType" value="Web Content Article" />
			<var name="rowNumber" value="1" />
			<var name="siteScope" value="Global" />
			<var name="toAll" value="true" />
			<var name="userSegmentName" value="Male Users" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#savePG" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Test Page Name" />
			<var name="siteName" value="Site Name" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#viewEntryPG">
			<var name="belongsTo" value="true" />
			<var name="viewUserSegmentSelected" value="Male Users" />
		</execute>
	</command>

	<command name="AddParentSiteUserSegmentToChildSiteViaUserSegmentContentDisplayPortlet" priority="4">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="parentSiteName" value="Site Name" />
			<var name="siteName" value="Child SiteName" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="SitePage#addCP">
			<var name="page" value="Public Pages" />
			<var name="siteName" value="Child SiteName" />
			<var name="sitePageName" value="Test Page Name" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="Male Users" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Male" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Child SiteName" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="Male Non Users" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Male" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Web Content" />
			<var name="siteScopeName" value="Child SiteName" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddCP" />

		<execute macro="WebContent#addWithCategoryCP">
			<var name="categoryName" value="Male Non Users" />
			<var name="vocabularyName" value="User Segment" />
			<var name="webContentContent" value="Web Content targeted to a User Segment" />
			<var name="webContentTitle" value="Targeted Web Content Title" />
		</execute>

		<execute macro="WebContentNavigator#gotoEditCP">
			<var name="webContentTitle" value="Targeted Web Content Title" />
		</execute>

		<execute macro="WebContent#viewCategorizationCategoryCP">
			<var name="categoryNameList" value="Male Non Users" />
			<var name="vocabularyName" value="User Segment" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Test Page Name" />
			<var name="siteName" value="Child SiteName" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="User Segment Content Display" />
		</execute>

		<execute function="Refresh" />

		<execute macro="Portlet#gotoPortletOptions">
			<var name="portletOption" value="Configuration" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#configureDisplayContent">
			<var name="belongs" value="true" />
			<var name="contentTitle" value="Targeted Web Content Title" />
			<var name="contentType" value="Web Content Article" />
			<var name="rowNumber" value="1" />
			<var name="siteScope" value="Site Name" />
			<var name="toAll" value="true" />
			<var name="userSegmentName" value="Male Users" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#savePG" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Test Page Name" />
			<var name="siteName" value="Child SiteName" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#viewEntryPG">
			<var name="belongsTo" value="true" />
			<var name="viewUserSegmentSelected" value="Male Users" />
		</execute>
	</command>

	<command name="AddUserSegmentBehaviorContentVisitedCP" priority="4">
		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Web Content" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddCP" />

		<execute macro="WebContent#addCP">
			<var name="webContentContent" value="Web Content Content" />
			<var name="webContentTitle" value="Web Content Title" />
		</execute>

		<execute macro="WebContent#publish" />

		<execute macro="WebContent#viewTitle">
			<var name="webContentTitle" value="WC WebContent Title" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addBehaviorContentVisitedRuleCP">
			<var name="contentVisitedContent" value="Web Content Article" />
			<var name="webContentTitle" value="Web Content Title" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Content Visited" />
			<var name="webContentTitle" value="Web Content Title" />
		</execute>
	</command>

	<command name="AddUserSegmentBehaviorPageVisitedCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addBehaviorPageVisitedRuleCP">
			<var name="friendlyURL" value="/test-page-name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="friendlyURL" value="/test-page-name" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Page Visited" />
		</execute>
	</command>

	<command name="AddUserSegmentBehaviorScorePointsCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addBehaviorScorePointsRuleCP">
			<var name="scorePoints" value="100" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="scorePoints" value="100" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Score Points" />
		</execute>
	</command>

	<command name="AddUserSegmentBlankCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />
	</command>

	<command name="AddUserSegmentSocialFacebookAgeCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSocialFacebookAgeRuleCP">
			<var name="facebookOlderThanAge" value="18" />
			<var name="facebookYoungerThanAge" value="50" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="facebookOlderThanAge" value="18" />
			<var name="facebookYoungerThanAge" value="50" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Facebook Age" />
		</execute>
	</command>

	<command name="AddUserSegmentSocialFacebookCityCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSocialFacebookCityRuleCP">
			<var name="facebookCity" value="Diamond Bar" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="facebookCity" value="Diamond Bar" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Facebook City" />
		</execute>
	</command>

	<command name="AddUserSegmentSocialFacebookEducationCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSocialFacebookEducationRuleCP">
			<var name="facebookCollegeHighSchoolName" value="UC Irvine" />
			<var name="facebookEducationLevel" value="College" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="facebookCollegeHighSchoolName" value="UC Irvine" />
			<var name="facebookEducationLevel" value="College" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Facebook Education" />
		</execute>
	</command>

	<command name="AddUserSegmentSocialFacebookFriendsCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSocialFacebookFriendsRuleCP">
			<var name="moreLessThan" value="More" />
			<var name="numberOfFriends" value="50" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="moreLessThan" value="More" />
			<var name="numberOfFriends" value="50" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Facebook Friends" />
		</execute>
	</command>

	<command name="AddUserSegmentSocialFacebookGenderCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSocialFacebookGenderRuleCP">
			<var name="facebookGenderRadio" value="Male" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="facebookGenderRadio" value="Male" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Facebook Gender" />
		</execute>
	</command>

	<command name="AddUserSegmentSocialFacebookPageLikeCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSocialFacebookPageLikeRuleCP">
			<var name="facebookURL" value="liferay" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="facebookURL" value="liferay" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Facebook Page Like" />
		</execute>
	</command>

	<command name="AddUserSegmentSystemAttributesBrowserCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSystemAttributesBrowserRuleCP">
			<var name="browserName" value="Firefox" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="browserName" value="Firefox" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Browser" />
		</execute>
	</command>

	<command name="AddUserSegmentSystemAttributesDeviceCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Mobile Device Families" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="MobileDevice#addCP">
			<var name="classificationName" value="Classification Name" />
			<var name="deviceFamilyName" value="Device Family Name" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSystemAttributesDeviceRuleCP">
			<var name="deviceFamilyName" value="Device Family Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="deviceFamilyName" value="Device Family Name" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Device" />
		</execute>
	</command>

	<command name="AddUserSegmentSystemAttributesLocationCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSystemAttributesLocationRuleCP">
			<var name="countryName" value="Spain" />
			<var name="regionName" value="Madrid" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="countryName" value="Spain" />
			<var name="regionName" value="Madrid" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Location" />
		</execute>
	</command>

	<command name="AddUserSegmentSystemAttributesOperatingSystemCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSystemAttributesOperatingSystemRuleCP">
			<var name="operatingSystemName" value="Mac" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="operatingSystemName" value="Mac" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Operating System" />
		</execute>
	</command>

	<command name="AddUserSegmentSystemAttributesTimeCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addSystemAttributesTimeRuleCP">
			<var name="endTime" value="11:30 PM" />
			<var name="startTime" value="10:30 AM" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="endTime" value="11:30 PM" />
			<var name="startTime" value="10:30 AM" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Time" />
		</execute>
	</command>

	<command name="AddUserSegmentUserAttributesAgeCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesAgeRuleCP">
			<var name="olderThanAge" value="21" />
			<var name="youngerThanAge" value="99" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="olderThanAge" value="21" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Age" />
			<var name="youngerThanAge" value="99" />
		</execute>
	</command>

	<command name="AddUserSegmentUserAttributesGenderCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Female" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="genderRadio" value="Female" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Gender" />
		</execute>
	</command>

	<command name="AddUserSegmentUserAttributesOrganizationMemberCP" priority="4">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name" />
			<var name="orgType" value="Regular Organization" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesOrganizationMemberRuleCP">
			<var name="organizationName" value="Organization Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="organizationName" value="Organization Name" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Organization Member" />
		</execute>

		<execute macro="Organization#tearDownCP" />
	</command>

	<command name="AddUserSegmentUserAttributesOrganizationRoleCP" priority="4">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name" />
			<var name="orgType" value="Regular Organization" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesOrganizationRoleRuleCP">
			<var name="organizationName" value="Organization Name" />
			<var name="organizationRole" value="Organization Owner" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="organizationName" value="Organization Name" />
			<var name="organizationRole" value="Organization Owner" />
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="organizationName" value="Organization Name" />
			<var name="organizationRole" value="Organization Owner" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Organization Role" />
		</execute>

		<execute macro="Organization#tearDownCP" />
	</command>

	<command name="AddUserSegmentUserAttributesRegularRoleCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesRegularRoleRuleCP">
			<var name="regularRole" value="Guest" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="regularRole" value="Guest" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Regular Role" />
		</execute>
	</command>

	<command name="AddUserSegmentUserAttributesSiteMemberCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesSiteMemberRuleCP">
			<var name="selectSiteMemberSite" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="selectSiteMemberSite" value="Site Name" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Site Member" />
		</execute>
	</command>

	<command name="AddUserSegmentUserAttributesSiteRoleCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesSiteRoleRuleCP">
			<var name="siteRole" value="Site Owner" />
			<var name="siteRoleSite" value="Liferay" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="siteRole" value="Site Owner" />
			<var name="siteRoleSite" value="Liferay" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="Site Role" />
		</execute>
	</command>

	<command name="AddUserSegmentUserAttributesUserGroupMemberCP" priority="4">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="User Group Name" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesUserGroupMemberRuleCP">
			<var name="userGroupName" value="User Group Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="userGroupName" value="User Group Name" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="UserGroup Member" />
		</execute>
	</command>

	<command name="AddUserSegmentUserAttributesUserSignedInCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesUserSignedInRuleCP" />

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="userSegmentName" value="User Segment Name" />
			<var name="viewUserSegmentRuleList" value="User Signed In" />
		</execute>
	</command>

	<command name="DeleteUserSegmentCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Female" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesUserSignedInRuleCP" />

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#deleteUserSegmentCP">
			<var name="userSegmentName" value="User Segment Name" />
		</execute>
	</command>

	<command name="EditUserSegmentCP" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="User Segment Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Female" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesUserSignedInRuleCP" />

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#editUserSegmentCP">
			<var name="userSegmentDescriptionEdit" value="User Segment Description Edit" />
			<var name="userSegmentName" value="User Segment Name" />
			<var name="userSegmentNameEdit" value="User Segment Name Edit" />
			<var name="userSegmentRuleAddList" value="Site Role,Regular Role" />
			<var name="userSegmentRuleDeleteList" value="UserLoggedRule,GenderRule" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewRulesCP">
			<var name="regularRole" value="Administrator" />
			<var name="siteRole" value="Site Administrator" />
			<var name="siteRoleSite" value="Global" />
			<var name="userSegmentName" value="User Segment Name Edit" />
			<var name="viewUserSegmentRuleList" value="Site Role,Regular Role" />
		</execute>
	</command>

	<command name="UserSegmentContentViewReport" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="Male Users" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Male" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Web Content" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddCP" />

		<execute macro="WebContent#addCP">
			<var name="webContentContent" value="WC Male Content View" />
			<var name="webContentTitle" value="WC Male View Title" />
		</execute>

		<execute macro="WebContent#publish" />

		<execute macro="WebContent#viewTitle">
			<var name="webContentTitle" value="WC Male View Title" />
		</execute>

		<execute macro="Page#openURL">
			<var name="siteName" value="Site Name" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="User Segment Content Display" />
		</execute>

		<execute function="Refresh" />

		<execute macro="Portlet#gotoPortletOptions">
			<var name="portletOption" value="Configuration" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#configureDisplayContent">
			<var name="belong" value="true" />
			<var name="contentTitle" value="WC Male View Title" />
			<var name="contentType" value="Web Content Article" />
			<var name="rowNumber" value="1" />
			<var name="toAny" value="true" />
			<var name="userSegmentName" value="Male Users" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#savePG" />

		<execute macro="Page#openURL">
			<var name="siteName" value="Site Name" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#viewEntryPG">
			<var name="entryContentText" value="WC Male Content View" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewReport">
			<var name="reportName" value="Content Views" />
			<var name="userSegmentName" value="Male Users" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewReportContent">
			<var name="reportCount" value="10" />
			<var name="reportEvent" value="View" />
			<var name="reportTitle" value="Test Page Name" />
			<var name="reportType" value="Page" />
		</execute>

		<execute macro="ContentTargetingUserSegment#viewReportContent">
			<var name="reportCount" value="2" />
			<var name="reportEvent" value="View" />
			<var name="reportTitle" value="WC Male View Title" />
			<var name="reportType" value="Web Content Article" />
		</execute>
	</command>

	<command name="ViewRulesAppliedUserSegmentContentDisplayPortlet" priority="4">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Audience Targeting" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addCP">
			<var name="userSegmentDescription" value="User Segment Description" />
			<var name="userSegmentName" value="Female Users" />
		</execute>

		<execute macro="ContentTargetingUserSegment#addUserAttributesGenderRuleCP">
			<var name="genderRadio" value="Female" />
		</execute>

		<execute macro="ContentTargetingUserSegment#saveCP" />

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Web Content" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddCP" />

		<execute macro="WebContent#addWithCategoryCP">
			<var name="categoryName" value="Female Users" />
			<var name="vocabularyName" value="User Segment" />
			<var name="webContentContent" value="Web Content targeted to a User Segment" />
			<var name="webContentTitle" value="Targeted Web Content Title" />
		</execute>

		<execute macro="WebContentNavigator#gotoEditCP">
			<var name="webContentTitle" value="Targeted Web Content Title" />
		</execute>

		<execute macro="WebContent#viewCategorizationCategoryCP">
			<var name="categoryNameList" value="Female Users" />
			<var name="vocabularyName" value="User Segment" />
		</execute>

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Web Content" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="WebContentNavigator#gotoAddCP" />

		<execute macro="WebContent#addWithCategoryCP">
			<var name="categoryName" value="Female Users" />
			<var name="vocabularyName" value="User Segment" />
			<var name="webContentContent" value="Second Web Content targeted to a User Segment" />
			<var name="webContentTitle" value="Targeted Web Content Title 2" />
		</execute>

		<execute macro="WebContentNavigator#gotoEditCP">
			<var name="webContentTitle" value="Targeted Web Content Title 2" />
		</execute>

		<execute macro="WebContent#viewCategorizationCategoryCP">
			<var name="categoryNameList" value="Female Users" />
			<var name="vocabularyName" value="User Segment" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Test Page Name" />
			<var name="siteName" value="Site Name" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="User Segment Content Display" />
		</execute>

		<execute function="Refresh" />

		<execute macro="Portlet#gotoPortletOptions">
			<var name="portletOption" value="Configuration" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#configureDisplayContent">
			<var name="contentTitle" value="Targeted Web Content Title" />
			<var name="contentType" value="Web Content Article" />
			<var name="doesNotBelong" value="true" />
			<var name="rowNumber" value="1" />
			<var name="toAny" value="true" />
			<var name="userSegmentName" value="Female Users" />
			<var name="viewEntryPG" value="Female Users" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#configureOtherwiseContenDisplayRule">
			<var name="otherwiseContentTitle" value="Targeted Web Content Title 2" />
			<var name="otherwiseContentType" value="Web Content Article" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#savePG" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Test Page Name" />
			<var name="siteName" value="Site Name" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="UserSegmentContentDisplayPortlet#viewConfiguredDisplayContent">
			<var name="contentTitle" value="Targeted Web Content Title" />
			<var name="contentType" value="Basic Web Content" />
			<var name="doesNotBelong" value="true" />
			<var name="otherwiseContentTitle" value="Targeted Web Content Title 2" />
			<var name="otherwiseContentType" value="Basic Web Content" />
			<var name="rowNumber" value="1" />
			<var name="toAny" value="true" />
			<var name="userSegmentName" value="Female Users" />
			<var name="viewEntryPG" value="Female Users" />
		</execute>
	</command>
</definition>