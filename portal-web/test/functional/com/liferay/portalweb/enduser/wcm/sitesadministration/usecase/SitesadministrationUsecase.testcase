<definition component-name="portal-wcm">
	<property name="testray.main.component.name" value="WCM" />

	<set-up>
		<execute macro="User#firstLoginPG" />
	</set-up>

	<tear-down>
		<execute macro="User#tearDownCP" />

		<execute macro="Site#tearDownCP" />

		<execute macro="Organization#tearDownCP" />

		<execute macro="Team#tearDownCP" />

		<execute macro="Page#tearDownPG" />

		<execute macro="UserGroup#tearDownCP" />
	</tear-down>

	<command name="AddOrganizationSitesAndDeactivate" priority="5">
		<var name="allowManualMembershipManagement" value="true" />
		<var name="membershipType" value="Open" />
		<var name="org1Name" value="Organization Name 1" />
		<var name="org2Name" value="Organization Name 2" />
		<var name="orgType" value="Regular Organization" />
		<var name="selectMembershipType" value="true" />
		<var name="userEmailAddress" value="userea@liferay.com" />
		<var name="userFirstName" value="userfn" />
		<var name="userLastName" value="userln" />
		<var name="userScreenName" value="usersn" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="${org1Name}" />
			<var name="orgType" value="${orgType}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Community Site" />
			<var name="orgName" value="${org1Name}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#manageMembershipOptionsInSites">
			<var name="allowManualMembershipManagement" value="${allowManualMembershipManagement}" />
			<var name="membershipType" value="${membershipType}" />
			<var name="orgName" value="${org1Name}" />
			<var name="selectMembershipType" value="${selectMembershipType}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#viewCP">
			<var name="siteMember" value="Organization" />
			<var name="siteName" value="${org1Name}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="${org2Name}" />
			<var name="orgType" value="${orgType}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Intranet Site" />
			<var name="orgName" value="${org2Name}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#manageMembershipOptionsInSites">
			<var name="allowManualMembershipManagement" value="${allowManualMembershipManagement}" />
			<var name="membershipType" value="${membershipType}" />
			<var name="orgName" value="${org2Name}" />
			<var name="selectMembershipType" value="${selectMembershipType}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#viewCP">
			<var name="siteMember" value="Organization" />
			<var name="siteName" value="${org2Name}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="${userEmailAddress}" />
			<var name="userFirstName" value="${userFirstName}" />
			<var name="userLastName" value="${userLastName}" />
			<var name="userScreenName" value="${userScreenName}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="${userEmailAddress}" />
			<var name="userScreenName" value="${userScreenName}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Site#assignUserSitesCP">
			<var name="siteName" value="${org1Name}" />
			<var name="userScreenName" value="${userScreenName}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Site#assignUserSitesCP">
			<var name="siteName" value="${org2Name}" />
			<var name="userScreenName" value="${userScreenName}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Roles" />
		</execute>

		<execute macro="Role#assignRegRoleCP">
			<var name="roleName" value="Administrator" />
			<var name="userScreenName" value="${userScreenName}" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="userEmailAddress" value="${userEmailAddress}" />
		</execute>

		<execute macro="SitePage#viewDefaultSiteTemplatePagesPG">
			<var name="siteName" value="${org1Name}" />
			<var name="siteTemplate" value="Community" />
		</execute>

		<execute macro="SitePage#viewDefaultSiteTemplatePagesPG">
			<var name="siteName" value="${org2Name}" />
			<var name="siteTemplate" value="Intranet" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
			<var name="siteName" value="${org2Name}" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="Site#deactivateOrganizationSiteCP">
			<var name="siteName" value="${org2Name}" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#deactivateOrganizationSiteCP">
			<var name="siteName" value="${org2Name}" />
			<var name="successMessage" value="true" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="${userEmailAddress}" />
		</execute>

		<execute macro="Site#viewMySitesViaMySitesPG">
			<var name="organizationSite" value="true" />
			<var name="siteName" value="${org2Name}" />
		</execute>

		<execute macro="Page#openURL">
			<var name="siteName" value="${org2Name}" />
			<var name="siteURL" value="true" />
		</execute>

		<execute action="Home#assertTextEquals" locator-key1="STATUS_MESSAGE" value1="This site is inactive. Please contact the administrator." />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="ApplicationAdapter" priority="5">
		<property name="hook.plugins.includes" value="sample-application-adapter-hook" />

		<var name="site1Name" value="Site A" />
		<var name="site1PageName" value="Test Page A" />
		<var name="site1PagePrivacy" value="Public" />
		<var name="site2Name" value="Site B" />
		<var name="site2PageName" value="Test Page B" />
		<var name="site2PagePrivacy" value="Public" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="${site1Name}" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
			<var name="siteScopeName" value="${site1Name}" />
		</execute>

		<execute action="CPSitesettings#select" locator-key1="APPLICATION_ADAPTER_SELECT" value1="Sample Application Adapter Hook" />
		<execute action="CPSitesettings#assertClick" locator-key1="SAVE_BUTTON" value1="Save" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="SitePage#addCP">
			<var name="siteName" value="${site1Name}" />
			<var name="sitePageName" value="${site1PageName}" />
			<var name="sitePagePrivacy" value="${site1PagePrivacy}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${site1PageName}" />
			<var name="siteName" value="${site1Name}" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Navigation" />
		</execute>

		<var name="key_portletName" value="Navigation" />

		<execute action="PGNavigation#assertTextEquals" locator-key1="PORTLET_BODY" value1="This was modified by the Sample Application Adapter." />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="${site2Name}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="SitePage#addCP">
			<var name="siteName" value="${site2Name}" />
			<var name="sitePageName" value="${site2PageName}" />
			<var name="sitePagePrivacy" value="${site2PagePrivacy}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${site2PageName}" />
			<var name="siteName" value="${site2Name}" />
			<var name="siteURL" value="true" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Navigation" />
		</execute>

		<var name="key_portletName" value="Navigation" />

		<execute action="PGNavigation#assertTextNotPresent" locator-key1="PORTLET_BODY" value1="This was modified by the Sample Application Adapter." />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
			<var name="siteScopeName" value="${site2Name}" />
		</execute>

		<execute action="CPSitesettings#select" locator-key1="APPLICATION_ADAPTER_SELECT" value1="Sample Application Adapter Hook" />
		<execute action="CPSitesettings#assertClick" locator-key1="SAVE_BUTTON" value1="Save" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${site2PageName}" />
			<var name="siteName" value="${site2Name}" />
			<var name="siteURL" value="true" />
		</execute>

		<var name="key_portletName" value="Navigation" />

		<execute action="PGNavigation#assertTextEquals" locator-key1="PORTLET_BODY" value1="This was modified by the Sample Application Adapter." />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
			<var name="siteScopeName" value="${site2Name}" />
		</execute>

		<execute action="CPSitesettings#select" locator-key1="APPLICATION_ADAPTER_SELECT" value1="None" />
		<execute action="CPSitesettings#assertClick" locator-key1="SAVE_BUTTON" value1="Save" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${site2PageName}" />
			<var name="siteName" value="${site2Name}" />
			<var name="siteURL" value="true" />
		</execute>

		<var name="key_portletName" value="Navigation" />

		<execute action="PGNavigation#assertTextNotPresent" locator-key1="PORTLET_BODY" value1="This was modified by the Sample Application Adapter." />
	</command>

	<command name="MySitesDropDownDoesNotShowUserOrganizationOnTop" priority="4">
		<var name="siteNameLists" value="Site1 Name,Site2 Name,Site3 Name,Site4 Name,Site5 Name,Site6 Name,Site7 Name,Site8 Name,Site9 Name,Site10 Name" />

		<for list="${siteNameLists}" param="siteNameListsCount" >

			<execute macro="Page#gotoCP">
				<var name="portletName" value="Sites" />
			</execute>

			<execute macro="Site#addCommunityCP">
				<var name="siteName" value="${siteNameListsCount}" />
			</execute>
		</for>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Site Organization Name" />
			<var name="orgType" value="Regular Organization" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Community Site" />
			<var name="orgName" value="Site Organization Name" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addMemberCP">
			<var name="orgName" value="Site Organization Name" />
			<var name="userFirstName" value="Test" />
			<var name="userLastName" value="Test" />
			<var name="userScreenName" value="test" />
		</execute>

		<execute macro="Dockbar#viewMySitesDropDownSiteName">
			<var name="siteName" value="Site Organization Name" />
		</execute>
	</command>

	<command name="PrivateVirtualHostUrlDoesNotRedirectUserToLoginPage" priority="5">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
		</execute>

		<execute macro="Site#addVirtualHostsURLCP">
			<var name="privatePageVirtualHostURL" value="www.able.com" />
			<var name="privateVirtualHosts" value="true" />
		</execute>

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
		</execute>

		<execute macro="SitePage#addCP">
			<var name="sitePageName" value="Private Page" />
			<var name="sitePagePrivacy" value="Private" />
			<var name="siteScopeSelected" value="true" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="Page#openURL">
			<var name="virtualHostsURL" value="http://www.able.com:8080/private-page" />
		</execute>

		<execute macro="Site#viewPrivateVirtaulHostUrlUserLoginRedirect">
			<var name="userEmailAddress" value="@liferay.com" />
		</execute>

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Liferay" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="virtualHostsURL" value="http://www.able.com:8080/private-page" />
		</execute>

		<execute action="Home#assertLocation" value1="http://www.able.com:8080/private-page" />
		<execute action="Home#assertTextEquals" locator-key1="BREADCRUMB_1" value1="Private Page" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="ReturnWrongLayoutForSignedInUserWithVirtualHostsConfigured" priority="4">
		<property name="custom.properties" value="layout.default.template.id=2_columns_iii$${line.separator}layout.user.private.layouts.enabled=false$${line.separator}layout.user.private.layouts.auto.create=false$${line.separator}layout.user.private.layouts.power.user.required=true$${line.separator}layout.user.public.layouts.enabled=false$${line.separator}layout.user.public.layouts.auto.create=false$${line.separator}layout.user.public.layouts.power.user.required=true" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Portal Settings" />
		</execute>

		<execute macro="PortalSettings#editVirtualHostCP">
			<var name="virtualHostName" value="www.able.com" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Portal Settings" />
		</execute>

		<execute macro="PortalSettings#editConfigurationAuthenticationGeneral">
			<var name="enableRequireStrangers" value="true" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Portal Settings" />
		</execute>

		<execute macro="PortalSettings#editConfigurationUsersEmailNotificationsCP" />

		<execute macro="PortalSettings#editConfigurationUsersEmailVerificationNotificationsCP" />

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
		</execute>

		<execute macro="SitePage#changeColorSchemesCP">
			<var name="colorScheme" value="Dark" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Site#addVirtualHostsURLCP">
			<var name="publicPageVirtualHostURL" value="www.baker.com" />
			<var name="publicVirtualHosts" value="true" />
		</execute>

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="SitePage#addCP">
			<var name="sitePageName" value="Site Page Name" />
			<var name="sitePagePrivacy" value="Public" />
			<var name="siteScopeSelected" value="true" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Server Administration" />
		</execute>

		<execute macro="ServerAdministration#configureMailServerSettings">
			<var name="userName" property-value="email.address.1" />
			<var name="userPassword" property-value="email.password.1" />
		</execute>

		<execute macro="Page#openURL">
			<var name="siteURL" value="true" />
			<var name="virtualHostsURL" value="http://www.able.com:8080/" />
		</execute>

		<execute macro="Page#openURL">
			<var name="siteURL" value="true" />
			<var name="virtualHostsURL" value="http://www.baker.com:8080/" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#addCreateAccountPG">
			<var name="userEmailAddress" property-value="email.address.2" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Gmail#login">
			<var name="userEmailAddress" property-value="email.address.2" />
			<var name="userPassword" property-value="email.password.2" />
		</execute>

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#gotoMailMessage">
			<var name="emailFromUserName" value="Joe Bloggs" />
			<var name="gmailMessageTitle" value="Your New Account" />
		</execute>

		<var locator-key="EMAIL_PASSWORD" name="emailPassword" path="Gmail" />

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#gotoMailMessage">
			<var name="emailFromUserName" value="Joe Bloggs" />
			<var name="gmailMessageTitle" value="Email Address Verification" />
		</execute>

		<var locator-key="EMAIL_VERIFICATION_CODE" name="emailVerification" path="Gmail" />

		<execute macro="Page#openURL">
			<var name="siteURL" value="true" />
			<var name="virtualHostsURL" value="http://www.baker.com:8080/" />
		</execute>

		<execute macro="User#signInPG">
			<var name="userEmailAddress" property-value="email.address.2" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Portal Settings" />
		</execute>

		<execute macro="PortalSettings#editConfigurationUsersEmailVerificationNotificationsCP">
			<var name="emailVerificationURL" value="true" />
		</execute>

		<execute macro="Page#openURL">
			<var name="siteURL" value="true" />
			<var name="virtualHostsURL" value="http://www.baker.com:8080/" />
		</execute>

		<execute macro="User#editEmailViaMyAccount">
			<var name="userEmailAddress" property-value="email.address.3" />
		</execute>

		<execute macro="Gmail#logoutAndLogin">
			<var name="userEmailAddress" property-value="email.address.3" />
			<var name="userPassword" property-value="email.password.3" />
		</execute>

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#gotoMailMessage">
			<var name="emailFromUserName" value="Joe Bloggs" />
			<var name="emailVerificationURL" value="true" />
			<var name="gmailMessageTitle" value="Email Address Verification" />
		</execute>

		<var locator-key="EMAIL_ADDRESS_VERIFICATION_URL" name="emailAddressVerificationURL" path="Gmail" />

		<execute action="Gmail#click" locator-key1="EMAIL_ADDRESS_VERIFICATION_URL" />

		<execute action="Home#selectWindow" locator1="title=Verify Email Address - Site Name - Liferay" />
		<execute action="Home#assertLocation" value1="${emailAddressVerificationURL}" />

		<execute macro="Site#viewDefaultThemePG" />
	</command>

	<command name="SiteFriendlyURLLayoutImporter" priority="3">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="User Group Name" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addPageCP">
			<var name="sitePageName" value="site Page Name" />
			<var name="sitePagePrivacy" value="Public" />
			<var name="userGroupName" value="User Group Name" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="User Group Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute action="Home#assertConsoleTextNotPresent" value1="Error" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Page#gotoMyDashboard" />

		<execute action="Home#assertLocation" value1="http://localhost:8080/user/usersn/home" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="Page#addPG">
			<var name="pageName" value="Site Page Name" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
		</execute>

		<execute macro="Site#editFriendlyURLCP">
			<var name="siteFriendlyURLEdit" value="/liferay" />
		</execute>

		<execute action="Home#open" locator1="http://localhost:8080/web/liferay/site-page-name" />

		<execute action="Home#assertLocation" value1="http://localhost:8080/web/liferay/site-page-name" />

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
		</execute>

		<execute macro="Site#editFriendlyURLCP">
			<var name="siteFriendlyURLEdit" value="/guest" />
		</execute>
	</command>

	<command name="SitesDeactivated" priority="3">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site1 Name" />
		</execute>

		<execute macro="Site#selectPageType">
			<var name="selectPublicPages" value="true" />
			<var name="siteTemplate" value="Community Site" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site2 Name" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
			<var name="siteScopeName" value="Site2 Name" />
		</execute>

		<execute macro="Site#editCP">
			<var name="siteName" value="Site2 Name" />
			<var name="siteNameEdit" value="Site2 Name Edit" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Site1 Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="SitePage#viewDefaultSiteTemplatePagesPG">
			<var name="siteName" value="Site1 Name" />
			<var name="siteTemplate" value="Community" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
			<var name="siteScopeName" value="Site1 Name" />
		</execute>

		<execute macro="Site#inactivateCP">
			<var name="siteName" value="Site1 Name" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Page#openURL">
			<var name="siteName" value="Site1 Name" />
			<var name="siteURL" value="true" />
		</execute>

		<execute action="Home#assertTextEquals" locator-key1="ERROR_MESSAGE_ALERT_INFO" value1="This site is inactive. Please contact the administrator." />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command known-issues="LPS-51046,LPS-51074" name="SitesDemoSiteManagement" priority="5">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="membershipTypeOption" value="Open" />
			<var name="siteDescription" value="This is the site description test" />
			<var name="siteDetails" value="true" />
			<var name="siteName" value="World Cup - Russia 2018" />
		</execute>

		<for list="World Cup,Russia,2018" param="tagName" >
			<execute macro="Tag#addViaSiteCP">
				<var name="tagName" value="${tagName}" />
			</execute>
		</for>

		<execute macro="Site#addVirtualHostsURLCP">
			<var name="privatePageVirtualHostURL" value="www.baker.com" />
			<var name="privateVirtualHosts" value="true" />
			<var name="publicPageVirtualHostURL" value="www.able.com" />
			<var name="publicVirtualHosts" value="true" />
		</execute>

		<execute macro="Site#editFriendlyURLCP">
			<var name="siteFriendlyURLEdit" value="/russia2018" />
		</execute>

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
			<var name="siteScopeName" value="World Cup - Russia 2018" />
		</execute>

		<for list="Home,Arenas" param="publicPageName" >
			<execute macro="SitePage#addCP">
				<var name="sitePageName" value="${publicPageName}" />
				<var name="sitePagePrivacy" value="Public" />
				<var name="siteScopeSelected" value="true" />
			</execute>
		</for>

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
			<var name="siteScopeName" value="World Cup - Russia 2018" />
		</execute>

		<for list="Arena Baltika,Zenit Arena,Kazan Arena" param="childPageName" >
			<execute macro="SitePage#addChildCP">
				<var name="childSitepageName" value="true" />
				<var name="siteChildPageName" value="${childPageName}" />
				<var name="sitePagePrivacy" value="Public" />
				<var name="siteScopeSelected" value="true" />
			</execute>
		</for>

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
			<var name="siteScopeName" value="World Cup - Russia 2018" />
		</execute>

		<for list="Accomodations,Maps" param="privatePageName" >
			<execute macro="SitePage#addCP">
				<var name="sitePageName" value="${privatePageName}" />
				<var name="sitePagePrivacy" value="Private" />
				<var name="siteScopeSelected" value="true" />
			</execute>
		</for>

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
			<var name="siteScopeName" value="World Cup - Russia 2018" />
		</execute>

		<execute macro="SitePage#changeColorSchemesCP">
			<var name="colorScheme" value="Dark" />
		</execute>

		<execute macro="Page#changeLogoViaPageCP">
			<var name="logoFile" value="Document_3.png" />
		</execute>

		<execute macro="SitePage#addJavaScript">
			<var name="javaScript" value="alert('Welcome to Russia.');" />
		</execute>

		<execute macro="Page#openURL">
			<var name="siteURL" value="true" />
			<var name="virtualHostsURL" value="http://www.able.com:8080/" />
		</execute>

		<execute action="Home#confirm" locator-key1="PAGE_CONFIRM" value1="Welcome to Russia." />

		<execute macro="Page#viewCustomThemePG">
			<var name="customTheme" value="Dark" />
		</execute>

		<execute macro="Page#viewCustomLogoPG" />

		<for list="Arena Baltika,Zenit Arena,Kazan Arena" param="childPageName" >
			<execute macro="Page#viewChildPG">
				<var name="childPageName" value="${childPageName}" />
				<var name="javaScriptPage" value="Welcome to Russia." />
				<var name="pageName" value="Arenas" />
				<var name="viewChildPageDropdown" value="PAGE_2" />
			</execute>
		</for>

		<execute macro="Page#gotoPagesCP">
			<var name="portletName" value="Site Pages" />
			<var name="siteScopeName" value="World Cup - Russia 2018" />
		</execute>

		<execute macro="SitePage#addJavaScript">
			<var name="javaScript" value=" " />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="Site#assignUserSitesCP">
			<var name="siteName" value="World Cup - Russia 2018" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignSiteRoleCP">
			<var name="siteRoleName" value="Site Administrator" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="siteURL" value="true" />
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="virtualHostsURL" value="http://www.baker.com:8080/" />
		</execute>

		<execute macro="Page#viewCustomThemePG" />

		<execute macro="Page#viewSpecificPG">
			<var name="pageNameList" value="Accomodations,Maps" />
		</execute>

		<execute macro="LAR#configureExportSiteCP" >
			<var name="portletName" value="Site Pages" />
			<var name="siteName" value="World Cup - Russia 2018" />
		</execute>

		<execute action="CPSitepagesExport#assertClick" locator-key1="EXPORT_BUTTON" value1="Export" />

		<execute action="CPSitepagesExport#assertTextEquals" locator-key1="CURRENT_AND_PREVIOUS_STATUS" value1="Successful" />

		<var method="selenium#getText(&quot;//tr/td[5]/span/a&quot;)" name="valueName" />

		<echo message="value name ${valueName}" />

		<var group="1" input="${valueName}" name="larFileName" pattern="([a-zA-z0-9_.-]*)[(0-9k)]*" />

		<echo message="import file name ${larFileName}" />

		<execute action="CPSitepagesExport#click" locator-key1="CURRENT_AND_PREVIOUS_DOWNLOAD" />
		<execute action="CPSitepagesExport#downloadTempFile" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="LAR#importSiteCP">
			<var name="larFileName" value="${larFileName}" />
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Home" />
			<var name="siteName" value="Site Name" />
			<var name="siteURL" value="true" />
		</execute>

		<for list="Arena Baltika,Zenit Arena,Kazan Arena" param="childPageName" >
			<execute macro="Page#viewChildPG">
				<var name="childPageName" value="${childPageName}" />
				<var name="javaScriptPage" value="Welcome to Russia." />
				<var name="pageName" value="Arenas" />
				<var name="viewChildPageDropdown" value="PAGE_2" />
			</execute>
		</for>
	</command>

	<command name="SiteTeams" priority="4">
		<var name="siteName" value="Site Name" />
		<var name="siteScopeName" value="Site Name" />
		<var name="teamDescription" value="Site Team Description" />
		<var name="teamName" value="Site Team Name" />
		<var name="userEmailAddress1" value="userea1@liferay.com" />
		<var name="userEmailAddress2" value="userea2@liferay.com" />
		<var name="userFirstName1" value="userfn1" />
		<var name="userFirstName2" value="userfn2" />
		<var name="userGroupName1" value="UG UserGroup1 Name" />
		<var name="userGroupName2" value="UG UserGroup2 Name" />
		<var name="userLastName1" value="userln1" />
		<var name="userLastName2" value="userln2" />
		<var name="userScreenName1" value="usersn1" />
		<var name="userScreenName2" value="usersn2" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="${userEmailAddress1}" />
			<var name="userFirstName" value="${userFirstName1}" />
			<var name="userLastName" value="${userLastName1}" />
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="${userEmailAddress2}" />
			<var name="userFirstName" value="${userFirstName2}" />
			<var name="userLastName" value="${userLastName2}" />
			<var name="userScreenName" value="${userScreenName2}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="${userGroupName1}" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="${userGroupName2}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Memberships" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Site#addMemberCP">
			<var name="siteName" value="${siteName}" />
			<var name="siteScopeName" value="${siteName}" />
			<var name="userFirstName" value="${userFirstName1}" />
			<var name="userLastName" value="${userLastName1}" />
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="Site#addMemberUserGroupCP">
			<var name="siteName" value="${siteName}" />
			<var name="siteScopeName" value="${siteName}" />
			<var name="userGroupName" value="${userGroupName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="${userGroupName1}" />
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="${userGroupName2}" />
			<var name="userScreenName" value="${userScreenName2}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Team#addCP">
			<var name="teamDescription" value="${teamDescription}" />
			<var name="teamName" value="${teamName}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Team#assignMembersCP">
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Team#assignMembersCP">
			<var name="userNameIsNotFound" value="true" />
			<var name="userScreenName" value="${userScreenName2}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Team#assignUserGroups">
			<var name="userGroupName" value="${userGroupName1}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Team#assignUserGroups">
			<var name="userGroupName" value="${userGroupName2}" />
			<var name="userGroupsNameIsNotAvailable" value="true" />
		</execute>
	</command>

	<command name="SiteTeamsPermissions" priority="4">
		<var name="pageName" value="Blog Page Template" />
		<var name="permissionDefinitionKey" value="CONTENT_PERMISSIONS_VIEW_CHECKBOX" />
		<var name="permissionInLineCheckLists" value="ACTION_ADD_DISCUSSION,ACTION_ADD_LAYOUT,ACTION_CONFIGURE_PORTLETS,ACTION_CUSTOMIZE,ACTION_DELETE,ACTION_DELETE_DISCUSSION,ACTION_PERMISSIONS,ACTION_UPDATE,ACTION_UPDATE_DISCUSSION,ACTION_VIEW" />
		<var name="permissionInLineUncheckLists" value="CONTENT_PERMISSIONS_ADD_DISCUSSION_CHECKBOX,CONTENT_PERMISSIONS_VIEW_CHECKBOX" />
		<var name="siteName" value="Site Name" />
		<var name="teamDescription" value="Site Team Description" />
		<var name="teamName" value="Site Team Name" />
		<var name="userEmailAddress1" value="userea1@liferay.com" />
		<var name="userEmailAddress2" value="userea2@liferay.com" />
		<var name="userFirstName1" value="userfn1" />
		<var name="userFirstName2" value="userfn2" />
		<var name="userLastName1" value="userln1" />
		<var name="userLastName2" value="userln2" />
		<var name="userScreenName1" value="usersn1" />
		<var name="userScreenName2" value="usersn2" />

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="${userEmailAddress1}" />
			<var name="userFirstName" value="${userFirstName1}" />
			<var name="userLastName" value="${userLastName1}" />
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="${userEmailAddress1}" />
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Liferay" />
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="${userEmailAddress2}" />
			<var name="userFirstName" value="${userFirstName2}" />
			<var name="userLastName" value="${userLastName2}" />
			<var name="userScreenName" value="${userScreenName2}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="${userEmailAddress2}" />
			<var name="userScreenName" value="${userScreenName2}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Liferay" />
			<var name="userScreenName" value="${userScreenName2}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
		</execute>

		<execute macro="Team#addCP">
			<var name="teamDescription" value="${teamDescription}" />
			<var name="teamName" value="${teamName}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
		</execute>

		<execute macro="Team#assignMembersCP">
			<var name="userScreenName" value="${userScreenName1}" />
		</execute>

		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Team#viewDefaultCP">
			<var name="teamName" value="${teamName}" />
		</execute>

		<execute macro="Page#addPG">
			<var name="pageName" value="${pageName}" />
			<var name="pageTemplateName" value="Blog" />
		</execute>

		<execute macro="PermissionsInline#gotoPagePG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="Role#removePermissionPG">
			<var name="permissionDefinitionKey" value="${permissionDefinitionKey}" />
			<var name="roleName" value="Guest" />
		</execute>

		<execute macro="PermissionsInline#gotoPagePG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<for list="${permissionInLineUncheckLists}" param="permissionsInLineUncheckListsCount" >

			<execute macro="Role#removePermissionPG">
				<var name="permissionDefinitionKey" value="${permissionsInLineUncheckListsCount}" />
				<var name="roleName" value="Site Member" />
			</execute>
		</for>

		<execute macro="PermissionsInline#gotoPagePG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<for list="${permissionInLineCheckLists}" param="permissionsInLineCheckListsCount" >

			<execute macro="Team#definePermissionPG">
				<var name="permissionDefinitionKey" value="${permissionsInLineCheckListsCount}" />
				<var name="teamName" value="${teamName}" />
			</execute>
		</for>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="${userEmailAddress1}" />
		</execute>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute macro="PageTemplate#viewDefaultPortletPG">
			<var name="pageTemplateName" value="Blog" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="${userEmailAddress2}" />
		</execute>

		<execute macro="Page#openURL">
			<var name="pageName" value="${pageName}" />
		</execute>

		<execute action="Home#assertElementNotPresent" locator-key1="PAGE_2" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="SiteTeamsXSS" priority="5">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Page#gotoUsersCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Team#addCP">
			<var name="teamDescription"><![CDATA[<script>alert(123)</script>]]></var>
			<var name="teamName"><![CDATA[<script>alert(123)</script>]]></var>
		</execute>

		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Site Settings" />
			<var name="siteScopeName" value="Site Name" />
		</execute>

		<execute macro="Site#assignDefaultSiteTeam">
			<var name="teamName"><![CDATA[<script>alert(123)</script>]]></var>
		</execute>
	</command>
</definition>