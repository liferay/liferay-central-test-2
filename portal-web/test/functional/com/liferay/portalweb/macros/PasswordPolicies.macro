<definition>
	<var name="passwordPolicyName" value="Default Password Policy" />

	<command name="enableDefaultPasswordPolicyLockout">
		<var name="key_passwordPolicyName" value="${passwordPolicyName}" />

		<execute function="Click" locator1="PasswordPolicies#PASSWORD_POLICY_TABLE_ACTIONS" />

		<execute function="AssertClick" locator1="MenuItem#EDIT" value1="Edit" />

		<var name="key_panelHeading" value="Lockout" />

		<if>
			<condition function="IsElementPresent#isElementPresentAfterWait" locator1="Panel#PANEL_HEADING_COLLAPSED" />
			<then>
				<execute macro="Panel#expandPanel">
					<var name="panelHeading" value="Lockout" />
				</execute>
			</then>
		</if>

		<execute function="Check" locator1="Checkbox#ENABLE_LOCKOUT" />
		<execute function="AssertTextEquals" locator1="TextInput#MAXIMUM_FAILURE" value1="3" />

		<execute function="AssertClick" locator1="Button#SAVE" value1="Save" />

		<execute macro="Alert#viewRequestCompletedSuccessMessage" />
	</command>

	<command name="tearDownCP">
		<execute macro="ProductMenu#gotoControlPanelUsers">
			<var name="portlet" value="Password Policies" />
		</execute>

		<var name="key_passwordPolicyName" value="${passwordPolicyName}" />

		<execute function="Click" locator1="PasswordPolicies#PASSWORD_POLICY_TABLE_ACTIONS" />
		<execute function="AssertClick" locator1="MenuItem#EDIT" value1="Edit" />

		<execute function="Uncheck" locator1="Checkbox#ENABLE_LOCKOUT" />
		<execute function="AssertClick" locator1="Button#SAVE" value1="Save" />

		<execute macro="Alert#viewRequestCompletedSuccessMessage" />
	</command>

	<command name="viewAssignMemberCP">
		<var name="key_passwordPolicyName" value="${passwordPolicyName}" />

		<execute function="AssertTextEquals" locator1="PasswordPolicies#PASSWORD_POLICY_TABLE_NAME" value1="${passwordPolicyName}" />
		<execute function="Click" locator1="PasswordPolicies#PASSWORD_POLICY_TABLE_ACTIONS" />
		<execute function="AssertClick" locator1="MenuItem#ASSIGN_MEMBERS" value1="Assign Members" />

		<var name="key_userScreenName" value="${userScreenName}" />

		<execute function="AssertChecked" locator1="UsersAndOrganizationsAssignUsers#USER_TABLE_CHECKBOX" />
		<execute function="AssertTextEquals" locator1="UsersAndOrganizationsAssignUsers#USER_TABLE_SCREEN_NAME" value1="${userScreenName}" />
	</command>
</definition>