<definition>
	<command name="approveTaskByActions">
		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#gotoTaskAssignedToMeActionsCmd">
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<if>
			<isset var="workflowDefinitionTask" />
			<then>
				<var name="key_menuListOption" value="${workflowDefinitionTask}" />

				<execute function="AssertClick#pauseAssertTextClickAt" locator1="CPMyworkflowtasks#ASSIGNED_TO_ME_MENULIST_OPTION" value1="${workflowDefinitionTask}" />
			</then>
			<else>
				<execute function="AssertClick#pauseAssertTextClickAt" locator1="MenuItem#APPROVE" value1="Approve" />
			</else>
		</if>

		<if>
			<isset var="workflowActivityComment" />
			<then>
				<var name="key_workflowActivityComment" value="${workflowActivityComment}" />

				<execute function="Type#clickAtType" locator1="MyWorkflowTasks#DIALOG_BOX_COMMENT_FIELD" value1="${workflowActivityComment}" />
			</then>
		</if>

		<execute macro="Workflow#confirmAndViewSucessMessageViaActions" />

		<execute function="Pause" locator1="1000" />

		<execute macro="Workflow#viewCompletedTask">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="Pause" locator1="1000" />

		<if>
			<isset var="workflowActivityComment" />
			<then>
				<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

				<execute function="AssertClick" locator1="MyWorkflowTasks#COMPLETED_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
				<execute function="AssertClick" locator1="MyWorkflowTasks#PREVIEW_ACTIVITY" value1="Activities" />

				<var name="key_workflowActivityComment" value="${workflowActivityComment}" />

				<execute function="AssertTextEquals" locator1="MyWorkflowTasks#PREVIEW_ACTIVITY_ENTRY" value1="${workflowActivityComment}" />
			</then>
		</if>
	</command>

	<command name="approveTaskByDetails">
		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#viewTaskAssignedToMeDetails">
			<var name="workflowAssetContent" value="${workflowAssetContent}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssignedTo" value="${workflowAssignedTo}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

		<execute function="AssertClick" locator1="MenuItem#APPROVE" value1="Approve" />

		<execute macro="Workflow#confirmAndViewSucessMessageViaDetails" />

		<execute function="Click" locator1="Icon#ANGLE_LEFT_BACK" />

		<execute macro="Workflow#viewCompletedTask">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>
	</command>

	<command name="approveTaskByNotifications">
		<execute function="AssertClick" locator1="NotificationsDockbar#COUNT_ALERT" value1="${notificationCount}" />
		<execute function="AssertClick" locator1="NotificationsDockbar#NOTIFICATIONS_CONTENT_GENERIC" value1="${notificationContent}" />

		<execute function="SelectFrame" locator1="MyWorkflowTasksTask#MANAGE_MY_ACCOUNT_IFRAME" />
		<execute function="AssertTextEquals#assertValue" locator1="MyWorkflowTasksTask#ASSIGNED_TO" value1="${userName}" />
		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

		<execute function="AssertClick" locator1="MenuItem#APPROVE" value1="Approve" />

		<execute function="AssertClick" locator1="Button#OK" value1="OK" />

		<execute function="AssertTextEquals#assertText" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="assignToMeTaskByActions">
		<execute macro="Workflow#viewTaskAssignedToMyRoles">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#gotoTaskAssignedToMyRolesActionsCmd">
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="AssertClick" locator1="MenuItem#ASSIGN_TO_ME" value1="Assign to Me" />

		<if>
			<isset var="workflowActivityComment" />
			<then>
				<execute function="Type#clickAtType" locator1="MyWorkflowTasks#DIALOG_BOX_COMMENT_FIELD" value1="${workflowActivityComment}" />
			</then>
		</if>

		<execute macro="Workflow#confirmAndViewSucessMessageViaActions" />

		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<if>
			<isset var="workflowActivityComment" />
			<then>
				<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

				<execute function="AssertClick" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
				<execute function="AssertClick" locator1="MyWorkflowTasks#PREVIEW_ACTIVITY" value1="Activities" />

				<var name="key_workflowActivityComment" value="${workflowActivityComment}" />

				<execute function="AssertTextEquals" locator1="MyWorkflowTasks#PREVIEW_ACTIVITY_ENTRY" value1="${workflowActivityComment}" />
			</then>
		</if>
	</command>

	<command name="assignToMeTaskByDetails">
		<execute macro="Workflow#viewTaskAssignedToMyRoles">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="AssertClick" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />

		<execute function="AssertTextEquals#assertValue" locator1="MyWorkflowTasksTask#ASSIGNED_TO" value1="Nobody" />
		<execute function="AssertTextEquals#assertValue" locator1="MyWorkflowTasksTask#STATE" value1="${workflowTask}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasksTask#PREVIEW_TITLE" value1="${workflowAssetTitle}" />

		<if>
			<equals arg1="${assignToMeKey}" arg2="ASSIGN_TO_ME" />
			<then>
				<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

				<execute function="AssertClick" locator1="MyWorkflowTasksTask#ASSIGN_TO_ME" value1="Assign to Me" />
			</then>
			<else>
				<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

				<execute function="AssertClick" locator1="MyWorkflowTasksTask#MENU_ASSIGN_TO_ME" value1="Assign to Me" />
			</else>
		</if>

		<execute macro="Workflow#confirmAndViewSucessMessageViaDetails" />

		<execute function="Click" locator1="Icon#ANGLE_LEFT_BACK" />

		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>
	</command>

	<command name="assignToMeTaskByNotifications">
		<execute function="AssertClick" locator1="NotificationsDockbar#COUNT_ALERT" value1="${notificationCount}" />
		<execute function="AssertClick" locator1="NotificationsDockbar#NOTIFICATIONS_CONTENT_GENERIC" value1="${notificationContent}" />

		<execute function="SelectFrame" locator1="MyWorkflowTasksTask#MANAGE_MY_ACCOUNT_IFRAME" />
		<execute function="AssertTextEquals#assertValue" locator1="MyWorkflowTasksTask#ASSIGNED_TO" value1="Nobody" />
		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

		<execute function="AssertClick" locator1="MyWorkflowTasksTask#MENU_ASSIGN_TO_ME" value1="Assign to Me" />

		<execute function="AssertClick" locator1="Button#OK" value1="OK" />

		<execute function="AssertTextEquals#assertText" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="configureWorkflow">
		<execute function="Select" locator1="WorkflowConfiguration#${workflowResourceKey}" value1="${workflowDefinition}" />

		<execute function="AssertClick" locator1="Button#SAVE" value1="Save" />

		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="configureWorkflowViaFolderInfo">
		<execute function="Click" locator1="Icon#INFO" />
		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />
		<execute function="AssertClick" locator1="MenuItem#EDIT" value1="Edit" />

		<execute function="Select" locator1="AssetWorkflow#ALL_STRUCTURES_WORKFLOW_SELECT" value1="${workflowDefinition}" />
		<execute function="AssertClick" locator1="Button#SAVE" value1="Save" />

		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="confirmAndViewSucessMessageViaActions">
		<execute function="AssertClick#pauseAssertTextClickAt" locator1="Button#OK" value1="OK" />
		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="confirmAndViewSucessMessageViaDetails">
		<execute function="AssertClick" locator1="Button#OK" value1="OK" />
		<execute function="AssertTextEquals#assertText" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="deactivateAddedWorkflowDefinition">
		<execute function="Click" locator1="WorkflowDefinition#DEFINITION_TABLE_ADDED_DEFINITION_ELLIPSIS" />

		<execute macro="Workflow#deactivateWorkflowDefinitionCmd" />
	</command>

	<command name="deactivateSpecificWorkflowDefinition">
		<var name="key_workflowDefinitionTitle" value="${workflowDefinitionTitle}" />

		<execute function="Click" locator1="WorkflowDefinition#DEFINITION_TABLE_SPECIFIC_DEFINITION_ELLIPSIS" />

		<execute macro="Workflow#deactivateWorkflowDefinitionCmd" />
	</command>

	<command name="deactivateWorkflowDefinition">
		<execute function="Click" locator1="WorkflowDefinition#DEFINITION_TABLE_ADDED_DEFINITION_ELLIPSIS" />

		<execute macro="Workflow#deactivateWorkflowDefinitionCmd" />
	</command>

	<command name="deactivateWorkflowDefinitionCmd">
		<execute function="AssertClickNoError" locator1="MenuItem#DEACTIVATE" value1="Deactivate" />
		<execute function="Confirm" value1="Are you sure you want to deactivate this?" />
		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="deleteSpecificWorkflowDefinition">
		<var name="key_workflowDefinitionTitle" value="${workflowDefinitionTitle}" />

		<execute function="Click" locator1="WorkflowDefinition#DEFINITION_TABLE_SPECIFIC_DEFINITION_ELLIPSIS" />

		<execute macro="Workflow#deleteWorkflowDefinitionCmd" />
	</command>

	<command name="deleteWorkflowDefinition">
		<execute function="Click" locator1="WorkflowDefinition#DEFINITION_TABLE_DEACTIVATED_DEFINITION_ELLIPSIS" />

		<execute macro="Workflow#deleteWorkflowDefinitionCmd" />
	</command>

	<command name="deleteWorkflowDefinitionCmd">
		<execute function="AssertClickNoError" locator1="MenuItem#DELETE" value1="Delete" />
		<execute function="Confirm" value1="Are you sure you want to delete this? It will be deleted immediately." />
		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="gotoTaskAssignedToMeActionsCmd">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="Click" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_ACTIONS" />
	</command>

	<command name="gotoTaskAssignedToMyRolesActionsCmd">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="Click" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ACTIONS" />
	</command>

	<command name="reactivateInactiveWorkflowDefinition">
		<var name="key_workflowDefinitionName" value="${workflowDefinitionName}" />

		<execute function="AssertTextEquals" locator1="WorkflowDefinition#DEFINITION_TABLE_ACTIVE" value1="No" />
		<execute function="Click" locator1="WorkflowDefinition#DEFINITION_TABLE_DEACTIVATED_DEFINITION_ELLIPSIS" />
		<execute function="AssertClick" locator1="MenuItem#ACTIVATE" value1="Activate" />
		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
		<execute function="AssertTextEquals" locator1="WorkflowDefinition#DEFINITION_TABLE_ACTIVE" value1="Yes" />
	</command>

	<command name="rejectTaskByActions">
		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#gotoTaskAssignedToMeActionsCmd">
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="AssertClick#pauseAssertTextClickAt" locator1="MenuItem#REJECT" value1="Reject" />

		<execute macro="Workflow#confirmAndViewSucessMessageViaActions" />

		<execute function="SelectFrame" value1="relative=top" />

		<execute macro="Workflow#viewCompletedTask">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>
	</command>

	<command name="rejectTaskByDetails">
		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#viewTaskAssignedToMeDetails">
			<var name="workflowAssetContent" value="${workflowAssetContent}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssignedTo" value="${workflowAssignedTo}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

		<execute function="AssertClick" locator1="MenuItem#REJECT" value1="Reject" />

		<execute macro="Workflow#confirmAndViewSucessMessageViaDetails" />

		<execute function="Click" locator1="Icon#ANGLE_LEFT_BACK" />

		<execute function="SelectFrame" value1="relative=top" />

		<execute macro="Workflow#viewCompletedTask">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>
	</command>

	<command name="resubmitTaskByActions">
		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#gotoTaskAssignedToMeActionsCmd">
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="AssertClick#pauseAssertTextClickAt" locator1="MenuItem#RESUBMIT" value1="Resubmit" />

		<execute macro="Workflow#confirmAndViewSucessMessageViaActions" />

		<execute macro="Workflow#viewCompletedTask">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>
	</command>

	<command name="resubmitTaskByDetails">
		<execute macro="Workflow#viewTaskAssignedToMe">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#viewTaskAssignedToMeDetails">
			<var name="workflowAssetContent" value="${workflowAssetContent}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssignedTo" value="${workflowAssignedTo}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

		<execute function="AssertClick" locator1="MenuItem#RESUBMIT" value1="Resubmit" />

		<execute macro="Workflow#confirmAndViewSucessMessageViaDetails" />

		<execute function="Click" locator1="Icon#ANGLE_LEFT_BACK" />

		<execute macro="Workflow#viewCompletedTask">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>
	</command>

	<command name="tearDownPortalWorkflow">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Workflow Configuration" />
		</execute>

		<var name="noWorkflow" value="Default: No Workflow" />

		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_CALENDAR_EVENT_SELECT" value1="${defaultWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_PAGE_REVISION_SELECT" value1="${noWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_USER_SELECT" value1="${noWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_BLOGS_ENTRY_SELECT" value1="${noWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_COMMENTS_SELECT" value1="${noWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_MESSAGE_BOARDS_MESSAGE_SELECT" value1="${noWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_WIKI_PAGE_SELECT" value1="${noWorkflow}" />
		<execute function="AssertClick" locator1="Button#SAVE" value1="Save" />
	</command>

	<command name="tearDownSiteWorkflow">
		<execute macro="Page#gotoConfigurationCP">
			<var name="portletName" value="Workflow Configuration" />
		</execute>

		<var name="defaultWorkflow" value="Default: No Workflow" />

		<if>
			<condition function="IsElementPresent" locator1="WorkflowConfiguration#RESOURCE_TABLE_KNOWLEDGE_BASE_ARTICLE_SELECT" />
			<then>
				<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_KNOWLEDGE_BASE_ARTICLE_SELECT" value1="${defaultWorkflow}" />
			</then>
		</if>

		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_CALENDAR_EVENT_SELECT" value1="${defaultWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_PAGE_REVISION_SELECT" value1="${defaultWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_BLOGS_ENTRY_SELECT" value1="${defaultWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_COMMENTS_SELECT" value1="${defaultWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_MESSAGE_BOARDS_MESSAGE_SELECT" value1="${defaultWorkflow}" />
		<execute function="Select" locator1="WorkflowConfiguration#RESOURCE_TABLE_WIKI_PAGE_SELECT" value1="${defaultWorkflow}" />
		<execute function="AssertClick" locator1="Button#SAVE" value1="Save" />

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Web Content" />
		</execute>

		<execute macro="Workflow#configureWorkflowViaFolderInfo">
			<var name="workflowDefinition" value="No Workflow" />
		</execute>
	</command>

	<command name="tearDownSpecificWorkflowDefinition">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Workflow Definition" />
		</execute>

		<var name="key_workflowDefinitionTitle" value="${workflowDefinitionTitle}" />

		<while>
			<condition function="IsElementPresent" locator1="WorkflowDefinition#DEFINITION_TABLE_SPECIFIC_DEFINITION_ELLIPSIS" />
			<then>
				<execute macro="Workflow#deactivateSpecificWorkflowDefinition">
					<var name="workflowDefinitionTitle" value="Join Xor" />
				</execute>

				<execute macro="Workflow#deleteWorkflowDefinition" />
			</then>
		</while>
	</command>

	<command name="tearDownWorkflowDefinitionDraftsViaKDCP">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Kaleo Designer" />
		</execute>

		<while>
			<condition function="IsElementPresent" locator1="KaleoDesigner#DEFINITION_TABLE_DEFINITION_DRAFT_ACTIONS" />
			<then>
				<execute macro="KaleoDesigner#deleteTableDefinitionDraftViaKDCP" />

				<if>
					<condition function="IsElementNotPresent" locator1="KaleoDesigner#DEFINITION_TABLE_DEFINITION_DRAFT_ACTIONS" />
					<then>
						<execute macro="KaleoDesigner#viewNoWorkflowDefinitionsViaKDCP" />
					</then>
				</if>
			</then>
		</while>
	</command>

	<command name="tearDownWorkflowDefinitionsViaWorkflowCP">
		<execute macro="Page#gotoCP">
			<var name="portletName" value="Workflow Definition" />
		</execute>

		<while>
			<condition function="IsElementPresent" locator1="WorkflowDefinition#DEFINITION_TABLE_ADDED_DEFINITION_ELLIPSIS" />
			<then>
				<execute macro="Workflow#deactivateAddedWorkflowDefinition" />

				<execute macro="Workflow#deleteWorkflowDefinition" />
			</then>
		</while>
	</command>

	<command name="updateDueDateTaskByActions">
		<execute macro="Workflow#viewTaskAssignedToMyRoles">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute macro="Workflow#gotoTaskAssignedToMyRolesActionsCmd">
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="AssertClick" locator1="MenuItem#UPDATE_DUE_DATE" value1="Update Due Date" />

		<execute function="Type" locator1="MyWorkflowTasks#DIALOG_BOX_DUE_DATE" value1="${workflowDueDate}" />
		<execute function="Type" locator1="MyWorkflowTasks#DIALOG_BOX_DUE_DATE_TIME" value1="${workflowDueDateTime}" />

		<execute macro="Workflow#confirmAndViewSucessMessageViaActions" />

		<execute macro="Workflow#viewTaskAssignedToMyRoles">
			<var name="ddlDataDefinitionName" value="${ddlDataDefinitionName}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<execute function="AssertTextEquals#assertPartialText" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_DUE_DATE" value1="Within" />
	</command>

	<command name="uploadDefinition">
		<execute function="Click" locator1="Button#PLUS" />

		<execute function="Type" locator1="TextInput#TITLE" value1="${workflowDefinitionTitle}" />
		<execute function="UploadCommonFile" locator1="WorkflowUpload#FILE_UPLOAD" value1="${workflowDefinitionFile}" />
		<execute function="AssertClick" locator1="Button#SAVE" value1="Save" />

		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="viewAssignedToMyRolesTasksCP">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_TASK" value1="${workflowTask}" />
		<execute function="AssertTextEquals#assertPartialText" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_DUE_DATE" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ACTIONS" />
	</command>

	<command name="viewCannotWithdrawTaskByActions">
		<execute function="AssertClick"  locator1="MenuItem#COMPLETED" value1="Completed" />

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_DEFINITION" value1="${workflowDefinition}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_STATUS" value1="${workflowTask}" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#COMPLETED_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#COMPLETED_TABLE_END_DATE" />
		<execute function="AssertElementNotPresent" locator1="//div[@id='_158_workflowInstancesSearchContainer']//tr[contains(.,'${key_workflowAssetTitle}')]/td[7]/span/a[contains(@id,'menu_withdraw-submission')]/span" />
		<execute function="AssertTextNotPresent" value1="Withdraw Submission" />
	</command>

	<command name="viewCompletedTask">
		<execute function="Click" locator1="MenuItem#COMPLETED" value1="Completed" />

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertTextEquals" locator1="CPMyworkflowtasksCompleted#COMPLETED_TABLE_TASK" value1="${workflowTask}" />

		<execute function="AssertTextEquals#assertPartialText" locator1="CPMyworkflowtasks#COMPLETED_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="CPMyworkflowtasks#COMPLETED_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertElementPresent" locator1="CPMyworkflowtasks#COMPLETED_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="CPMyworkflowtasks#COMPLETED_TABLE_DUE_DATE" />
	</command>

	<command name="viewCompletedTasks">
		<execute function="AssertClick" locator1="MenuItem#COMPLETED" value1="Completed" />

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#COMPLETED_TABLE_TASK" value1="${workflowTask}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#COMPLETED_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#COMPLETED_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
	</command>

	<command name="viewCompletedTasksTaskNotPresentCP">
		<execute function="AssertClick" locator1="MenuItem#COMPLETED" value1="Completed" />

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertElementNotPresent" locator1="MyWorkflowTasks#COMPLETED_TABLE_TASK" />
		<execute function="AssertElementNotPresent" locator1="MyWorkflowTasks#COMPLETED_TABLE_ASSET_TITLE" />
		<execute function="AssertElementNotPresent" locator1="MyWorkflowTasks#COMPLETED_TABLE_ASSET_TYPE" />
	</command>

	<command name="viewDefaultMySubmissionsCP">
		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no pending publications requested by me." />
		<execute function="AssertClick" locator1="MenuItem#COMPLETED" value1="Completed" />

		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no completed publications requested by me." />
	</command>

	<command name="viewDefaultMyWorkflowTasksCP">
		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no pending tasks assigned to you." />
		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO_2" value1="There are no pending tasks assigned to your roles." />
		<execute function="AssertClick" locator1="MenuItem#COMPLETED" value1="Completed" />

		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no completed tasks." />
	</command>

	<command name="viewDefaultWorkflowSubmissions">
		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no pending publication requests." />
		<execute function="AssertClick" locator1="MenuItem#COMPLETED" value1="Completed" />

		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no completed publication requests." />
	</command>

	<command name="viewDefinition">
		<var name="key_workflowDefinitionName" value="${workflowDefinitionName}" />

		<execute function="AssertTextEquals" locator1="WorkflowDefinition#DEFINITION_TABLE_NAME" value1="${workflowDefinitionName}" />

		<if>
			<isset var="workflowDefinitionTitle" />
			<then>
				<execute function="AssertTextEquals" locator1="WorkflowDefinition#DEFINITION_TABLE_TITLE" value1="${workflowDefinitionTitle}" />
			</then>
			<else>
				<execute function="AssertTextEquals" locator1="WorkflowDefinition#DEFINITION_TABLE_TITLE" value1="${workflowDefinitionName}" />
			</else>
		</if>

		<execute function="AssertTextEquals" locator1="WorkflowDefinition#DEFINITION_TABLE_ACTIVE" value1="Yes" />
	</command>

	<command name="viewMySubmissions">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_DEFINITION" value1="${workflowDefinition}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_STATUS" value1="${workflowTask}" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#PENDING_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#PENDING_TABLE_END_DATE" />
	</command>

	<command name="viewMySubmissionsTaskPreview">
		<execute function="AssertTextEquals" locator1="WorkflowSubmissionsTask#PREVIEW" value1="Preview of ${workflowAssetType}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissionsTask#PREVIEW_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals#assertPartialText" locator1="WorkflowSubmissionsTask#PREVIEW_CONTENT" value1="${workflowAssetContent}" />
		<execute function="AssertTextEquals" locator1="Home#SITE_ADMINISTRATION_PORTLET_TITLE" value1="${workflowDefinition}" />
	</command>

	<command name="viewPendingTasks">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_DEFINITION" value1="${workflowDefinition}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#PENDING_TABLE_STATUS" value1="${workflowTask}" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#PENDING_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#PENDING_TABLE_END_DATE" />
	</command>

	<command name="viewRejectedTask">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="Update" />

		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_TASK" value1="Update" />

		<execute function="AssertTextEquals#assertPartialText" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_DUE_DATE" />
	</command>

	<command name="viewSubmissionNotPresent">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertElementNotPresent" locator1="WorkflowSubmissions#PENDING_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
	</command>

	<command name="viewTaskAssignedToMe">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_TASK" value1="${workflowTask}" />

		<execute function="AssertTextEquals#assertPartialText" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_DUE_DATE" />
	</command>

	<command name="viewTaskAssignedToMeDetails">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="AssertClick" locator1="MyWorkflowTasks#ASSIGNED_TO_ME_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />

		<if>
			<isset var="workflowAssignedTo" />
			<then>
				<execute function="AssertTextEquals#assertValue" locator1="MyWorkflowTasksTask#ASSIGNED_TO" value1="${workflowAssignedTo}" />
			</then>
			<else>
				<execute function="AssertTextEquals#assertValue" locator1="MyWorkflowTasksTask#ASSIGNED_TO" value1="Test Test" />
			</else>
		</if>

		<execute function="AssertTextEquals#assertValue" locator1="MyWorkflowTasksTask#STATE" value1="${workflowTask}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasksTask#PREVIEW_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals#assertPartialText" locator1="MyWorkflowTasksTask#PREVIEW_CONTENT" value1="${workflowAssetContent}" />
	</command>

	<command name="viewTaskAssignedToMyRoles">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_TASK" value1="${workflowTask}" />

		<execute function="AssertTextEquals#assertPartialText" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_DUE_DATE" />
		<execute function="AssertElementPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_ACTIONS" />
	</command>

	<command name="viewTaskNotPresentAssignedToMyRoles">
		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />
		<var name="key_workflowTask" value="${workflowTask}" />

		<execute function="AssertElementNotPresent" locator1="MyWorkflowTasks#ASSIGNED_TO_MY_ROLES_TABLE_TASK" value1="${workflowTask}" />
	</command>

	<command name="withdrawTaskByActions">
		<execute macro="Workflow#viewMySubmissions">
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowDefinition" value="${workflowDefinition}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

		<execute function="AssertClick" locator1="MenuItem#WITHDRAW_SUBMISSION" value1="Withdraw Submission" />

		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="withdrawTaskByDetails">
		<execute macro="Workflow#viewMySubmissions">
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowDefinition" value="${workflowDefinition}" />
			<var name="workflowTask" value="${workflowTask}" />
		</execute>

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertClick" locator1="WorkflowSubmissions#PENDING_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />

		<execute macro="Workflow#viewMySubmissionsTaskPreview">
			<var name="workflowAssetContent" value="${workflowAssetContent}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowDefinition" value="${workflowDefinition}" />
		</execute>

		<execute function="Click" locator1="Icon#BODY_VERTICAL_ELLIPSIS" />

		<execute function="AssertClick" locator1="MenuItem#WITHDRAW_SUBMISSION" value1="Withdraw Submission" />

		<execute function="AssertTextEquals" locator1="Message#SUCCESS" value1="Your request completed successfully." />
	</command>

	<command name="withdrawTaskCompletedNoByDetails">
		<execute function="AssertClick"  locator1="MenuItem#COMPLETED" value1="Completed" />

		<var name="key_workflowAssetTitle" value="${workflowAssetTitle}" />

		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_DEFINITION" value1="${workflowDefinition}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_ASSET_TYPE" value1="${workflowAssetType}" />
		<execute function="AssertTextEquals" locator1="WorkflowSubmissions#COMPLETED_TABLE_STATUS" value1="${workflowTask}" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#COMPLETED_TABLE_LAST_ACTIVITY_DATE" />
		<execute function="AssertElementPresent" locator1="WorkflowSubmissions#COMPLETED_TABLE_END_DATE" />
		<execute function="AssertClick" locator1="WorkflowSubmissions#COMPLETED_TABLE_ASSET_TITLE" value1="${workflowAssetTitle}" />

		<execute macro="Workflow#viewMySubmissionsTaskPreview">
			<var name="workflowAssetContent" value="${workflowAssetContent}" />
			<var name="workflowAssetTitle" value="${workflowAssetTitle}" />
			<var name="workflowAssetType" value="${workflowAssetType}" />
			<var name="workflowDefinition" value="${workflowDefinition}" />
		</execute>

		<execute function="AssertElementNotPresent" locator1="WorkflowSubmissionsTask#MENU_WITHDRAW_SUBMISSION" value1="Withdraw Submission" />
		<execute function="AssertTextNotPresent" value1="Withdraw Submission" />
	</command>
</definition>