<definition>
	<command name="addRssFeed">
		<if>
			<condition function="#isElementNotPresent" locator1="SOUserBar#VISIBLE_PAGE_CONTROLS" />
			<then>
				<execute function="#click" locator1="SOUserBar#TOGGLE_DOCKBAR" />
			</then>
		</if>

		<if>
			<condition function="#isElementPresent" locator1="SOUserBar#EDIT_CONTROLS_NOT_FLAGGED" />
			<then>
				<execute function="#mouseOver" locator1="Dockbar#EDIT_CONTROLS" />
				<execute function="#click" locator1="Dockbar#EDIT_CONTROLS" />
			</then>
		</if>

		<execute function="#click" locator1="SORss#RSS_OPTIONS" />

		<execute function="#click" locator1="BasePortlet#OPTIONS_MENULIST_CONFIGURATION" />

		<execute function="#selectFrame" locator1="SORssConfiguration#CONFIGURATION_IFRAME" />
		<execute function="#click" locator1="SORssConfiguration#FEEDS_ADD_ROW_BUTTON" />

		<if>
			<equals arg1="${feedRow}" arg2="1" />
			<then>
				<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_1" value1="${feedTitle}" />
				<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_1" value1="${feedUrl}" />
			</then>
			<elseif>
				<equals arg1="${feedRow}" arg2="2" />
				<then>
					<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_2" value1="${feedTitle}" />
					<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_2" value1="${feedUrl}" />
				</then>
			</elseif>
			<elseif>
				<equals arg1="${feedRow}" arg2="3" />
				<then>
					<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_3" value1="${feedTitle}" />
					<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_3" value1="${feedUrl}" />
				</then>
			</elseif>
			<else>
				<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_2" value1="${feedTitle}" />
				<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_2" value1="${feedUrl}" />
			</else>
		</if>

		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_TITLE_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_PUBLISHED_DATE_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_DESCRIPTION_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_IMAGE_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_ITEM_AUTHOR_CHECKBOX" />
		<execute function="#select" locator1="SORssConfiguration#DISPLAY_SETTINGS_ENTRIES_PER_FEED_SELECT" value1="${entriesPerFeed}" />
		<execute function="#select" locator1="SORssConfiguration#DISPLAY_SETTINGS_EXPANDED_ENTRIES_PER_FEED_SELECT" value1="${expandedEntriesPerFeed}" />
		<execute function="#click" locator1="SORssConfiguration#SAVE_BUTTON" value1="Save" />
		<execute function="#assertTextEquals" locator1="SORssConfiguration#SUCCESS_MESSAGE" value1="You have successfully updated the setup." />
		<execute action="SORssConfiguration#selectFrameTop" />
	</command>

	<command name="deleteRssFeed">
		<if>
			<condition function="#isElementNotPresent" locator1="SOUserBar#VISIBLE_PAGE_CONTROLS" />
			<then>
				<execute function="#click" locator1="SOUserBar#TOGGLE_DOCKBAR" />
			</then>
		</if>

		<if>
			<condition function="#isElementPresent" locator1="SOUserBar#EDIT_CONTROLS_NOT_FLAGGED" />
			<then>
				<execute function="#mouseOver" locator1="Dockbar#EDIT_CONTROLS" />
				<execute function="#click" locator1="Dockbar#EDIT_CONTROLS" />
			</then>
		</if>

		<execute function="#click" locator1="SORss#RSS_OPTIONS" />

		<execute function="#click" locator1="BasePortlet#OPTIONS_MENULIST_CONFIGURATION" />

		<execute function="#selectFrame" locator1="SORssConfiguration#CONFIGURATION_IFRAME" />

		<if>
			<equals arg1="${feedRow}" arg2="1" />
			<then>
				<execute function="#click" locator1="SORssConfiguration#FEEDS_DELETE_ROW_BUTTON_1" />
			</then>
			<elseif>
				<equals arg1="${feedRow}" arg2="2" />
				<then>
					<execute function="#click" locator1="SORssConfiguration#FEEDS_DELETE_ROW_BUTTON_2" />
				</then>
			</elseif>
			<elseif>
				<equals arg1="${feedRow}" arg2="3" />
				<then>
					<execute function="#click" locator1="SORssConfiguration#FEEDS_DELETE_ROW_BUTTON_3" />
				</then>
			</elseif>
			<else>
				<execute function="#click" locator1="SORssConfiguration#FEEDS_DELETE_ROW_BUTTON_2" />
			</else>
		</if>

		<execute function="#click" locator1="SORssConfiguration#SAVE_BUTTON" value1="Save" />
		<execute function="#assertTextEquals" locator1="SORssConfiguration#SUCCESS_MESSAGE" value1="You have successfully updated the setup." />
		<execute action="SORssConfiguration#selectFrameTop" />
	</command>

	<command name="editRssFeed">
		<if>
			<condition function="#isElementNotPresent" locator1="SOUserBar#VISIBLE_PAGE_CONTROLS" />
			<then>
				<execute function="#click" locator1="SOUserBar#TOGGLE_DOCKBAR" />
			</then>
		</if>

		<if>
			<condition function="#isElementPresent" locator1="SOUserBar#EDIT_CONTROLS_NOT_FLAGGED" />
			<then>
				<execute function="#mouseOver" locator1="Dockbar#EDIT_CONTROLS" />
				<execute function="#click" locator1="Dockbar#EDIT_CONTROLS" />
			</then>
		</if>

		<execute function="#click" locator1="SORss#RSS_OPTIONS" />

		<execute function="#click" locator1="BasePortlet#OPTIONS_MENULIST_CONFIGURATION" />

		<execute function="#selectFrame" locator1="SORssConfiguration#CONFIGURATION_IFRAME" />

		<if>
			<equals arg1="${feedRow}" arg2="1" />
			<then>
				<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_1" value1="${feedTitle}" />
				<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_1" value1="${feedUrl}" />
			</then>
			<elseif>
				<equals arg1="${feedRow}" arg2="2" />
				<then>
					<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_2" value1="${feedTitle}" />
					<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_2" value1="${feedUrl}" />
				</then>
			</elseif>
			<elseif>
				<equals arg1="${feedRow}" arg2="3" />
				<then>
					<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_3" value1="${feedTitle}" />
					<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_3" value1="${feedUrl}" />
				</then>
			</elseif>
			<else>
				<execute function="#type" locator1="SORssConfiguration#FEEDS_TITLE_FIELD_2" value1="${feedTitle}" />
				<execute function="#type" locator1="SORssConfiguration#FEEDS_URL_FIELD_2" value1="${feedUrl}" />
			</else>
		</if>

		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_TITLE_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_PUBLISHED_DATE_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_DESCRIPTION_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_IMAGE_CHECKBOX" />
		<execute function="#check" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_ITEM_AUTHOR_CHECKBOX" />
		<execute function="#select" locator1="SORssConfiguration#DISPLAY_SETTINGS_ENTRIES_PER_FEED_SELECT" value1="${entriesPerFeed}" />
		<execute function="#select" locator1="SORssConfiguration#DISPLAY_SETTINGS_EXPANDED_ENTRIES_PER_FEED_SELECT" value1="${expandedEntriesPerFeed}" />
		<execute function="#click" locator1="SORssConfiguration#SAVE_BUTTON" value1="Save" />
		<execute function="#assertTextEquals" locator1="SORssConfiguration#SUCCESS_MESSAGE" value1="You have successfully updated the setup." />
		<execute action="SORssConfiguration#selectFrameTop" />
	</command>

	<command name="viewRssFeed">
		<var name="key_feedTitle" value="${feedTitle}" />

		<execute function="#assertTextEquals" locator1="SORss#RSS_FEED_TITLE" value1="${feedTitle}" />
		<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_PUBLISHED_DATE" />
		<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_DESCRIPTION" />
		<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_IMAGE" />

		<var name="expandedFeedEntryNumber" value="0" />
		<var name="feedEntryNumber" value="0" />

		<while>
			<not>
				<equals arg1="${feedEntryNumber}" arg2="${entriesPerFeed}" />
			</not>
			<then>
				<var name="feedEntryNumber" value="${feedEntryNumber?increment()}" />

				<if>
					<not>
						<equals arg1="${expandedFeedEntryNumber}" arg2="${expandedEntriesPerFeed}" />
					</not>
					<then>
						<var name="expandedFeedEntryNumber" value="${expandedFeedEntryNumber?increment()}" />
					</then>
				</if>

				<var name="key_feedEntryNumber" value="${feedEntryNumber}" />

				<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_ENTRY_TITLE_INCREMENT" />

				<if>
					<not>
						<equals arg1="${expandedFeedEntryNumber}" arg2="${feedEntryNumber}" />
					</not>
					<then>
						<execute function="#click" locator1="SORss#RSS_FEED_ENTRY_EXPAND_BUTTON_INCREMENT" />
					</then>
				</if>

				<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_ENTRY_DATE_AND_TIME_INCREMENT" />
				<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_ENTRY_AUTHOR_INCREMENT" />
				<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_ENTRY_CONTENT_INCREMENT" />
				<execute function="#assertElementPresent" locator1="SORss#RSS_FEED_ENTRY_CONTENT_READ_MORE_INCREMENT" />
			</then>
		</while>
	</command>

	<command name="viewRssFeedConfiguration">
		<if>
			<condition function="#isElementNotPresent" locator1="SOUserBar#VISIBLE_PAGE_CONTROLS" />
			<then>
				<execute function="#click" locator1="SOUserBar#TOGGLE_DOCKBAR" />
			</then>
		</if>

		<if>
			<condition function="#isElementPresent" locator1="SOUserBar#EDIT_CONTROLS_NOT_FLAGGED" />
			<then>
				<execute function="#mouseOver" locator1="Dockbar#EDIT_CONTROLS" />
				<execute function="#click" locator1="Dockbar#EDIT_CONTROLS" />
			</then>
		</if>

		<execute function="#click" locator1="SORss#RSS_OPTIONS" />

		<execute function="#click" locator1="BasePortlet#OPTIONS_MENULIST_CONFIGURATION" />

		<execute function="#selectFrame" locator1="SORssConfiguration#CONFIGURATION_IFRAME" />
		<execute function="#assertChecked" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_TITLE_CHECKBOX" />
		<execute function="#assertChecked" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_PUBLISHED_DATE_CHECKBOX" />
		<execute function="#assertChecked" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_DESCRIPTION_CHECKBOX" />
		<execute function="#assertChecked" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_IMAGE_CHECKBOX" />
		<execute function="#assertChecked" locator1="SORssConfiguration#DISPLAY_SETTINGS_SHOW_FEED_ITEM_AUTHOR_CHECKBOX" />
		<execute function="#assertSelectedLabel" locator1="SORssConfiguration#DISPLAY_SETTINGS_ENTRIES_PER_FEED_SELECT" value1="${entriesPerFeed}" />
		<execute function="#assertSelectedLabel" locator1="SORssConfiguration#DISPLAY_SETTINGS_EXPANDED_ENTRIES_PER_FEED_SELECT" value1="${expandedEntriesPerFeed}" />
		<execute action="SORssConfiguration#selectFrameTop" />
	</command>
</definition>