<definition>
	<command name="addMicroblogsEntry">
		<if>
			<condition action="SOMicroblogs#isElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT_GENERAL" />
			<then>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_FIELD" />
		<execute action="SOUserBar#selectFrameTop" />

		<execute macro="SOMicroblogs#selectViewableByCmd">
			<var name="microblogsEntryViewableBy" value="${microblogsEntryViewableBy}" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />
		<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd" />

		<execute action="SOMicroblogs#click" locator-key1="POST_BUTTON" />

		<if>
			<isset var="microblogsEntryPartialContent" />
			<then>
				<var name="key_microblogsEntryContent" value="${microblogsEntryPartialContent}" />
			</then>
			<else>
				<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
			</else>
		</if>

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
	</command>

	<command name="addMicroblogsEntryComment">
		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<if>
			<condition action="SOMicroblogs#isElementPresent" locator-key1="MICROBLOGS_CONTENT_FIELD" />
			<then>
				<execute macro="SOMicroblogs#displayMicroblogsCommentTextFieldCmd">
					<var name="commentCount" value="${commentCount}" />
				</execute>

				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_FIELD" />
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />
				<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryCommentContent}" />

				<execute macro="SOMicroblogs#viewCharacterCountdownCmd">
					<var name="commentInDashboard" value="true" />
				</execute>

				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_COMMENT_POST_BUTTON" />

				<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />

				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent}" />
			</then>
			<else>
				<execute macro="SOMicroblogs#displayMicroblogsCommentTextFieldCmd">
					<var name="commentCount" value="${commentCount}" />
				</execute>

				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_FIELD" />
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />
				<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryCommentContent}" />

				<execute macro="SOMicroblogs#viewCharacterCountdownCmd" />

				<execute action="SOMicroblogs#click" locator-key1="POST_BUTTON" />

				<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />

				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent}" />
			</else>
		</if>
	</command>

	<command name="addMicroblogsEntryCommentMention">
		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#displayMicroblogsCommentTextFieldCmd">
			<var name="commentCount" value="${commentCount}" />
		</execute>

		<if>
			<condition action="SOMicroblogs#isElementPresent" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_FIELD" />
			<then>
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_FIELD" />
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />
				<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryCommentContent} @${mentionUserFirstName}" />

				<execute macro="SOMicroblogs#viewCharacterCountdownCmd">
					<var name="commentInDashboard" value="true" />
				</execute>

				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserName}" />
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_EMAIL" value1="${mentionUserEmailAddress}" />
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserEmailAddress}" />
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_COMMENT_POST_BUTTON" />

				<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />

				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent} ${mentionUserName}" />
			</then>
			<else>
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_FIELD" />
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />
				<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryCommentContent} @${mentionUserFirstName}" />

				<execute macro="SOMicroblogs#viewCharacterCountdownCmd" />

				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserName}" />
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_EMAIL" value1="${mentionUserEmailAddress}" />
				<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserEmailAddress}" />
				<execute action="SOMicroblogs#click" locator-key1="POST_BUTTON" />

				<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />

				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent} ${mentionUserName}" />
			</else>
		</if>
	</command>

	<command name="addMicroblogsEntryCommentViaProfile">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="Contacts Center" />
			<var name="soDashboard" value="true" />
			<var name="soPage" value="true" />
		</execute>

		<execute action="SOContactscenter#type" locator-key1="CONTACTS_LIST_SEARCH" value1="${microblogsEntryAuthorScreenName}" />
		<execute action="SOContactscenter#assertClick" locator-key1="CONTACTS_LIST_NAME" value1="${microblogsEntryAuthorLastName}, ${microblogsEntryAuthorFirstName}" />
		<execute action="SOContactscenter#assertClick" locator-key1="USER_DETAILS_NAME" value1="${microblogsEntryAuthorName}" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#displayMicroblogsCommentTextFieldCmd">
			<var name="commentCount" value="${commentCount}" />
		</execute>

		<execute action="SOMicroblogsProfile#click" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_FIELD" />
		<execute action="SOMicroblogsProfile#click" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_INPUT_FIELD" />
		<execute action="SOMicroblogsProfile#type" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_INPUT_FIELD" value1="${microblogsEntryCommentContent}" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd" />

		<execute action="SOMicroblogsProfile#click" locator-key1="MICROBLOGS_ENTRY_COMMENT_POST_BUTTON" />

		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent}" />
	</command>

	<command name="addMicroblogsEntryInvalid">
		<if>
			<condition action="SOMicroblogs#isElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT_GENERAL" />
			<then>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_FIELD" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />
		<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd" />

		<execute action="SOMicroblogs#click" locator-key1="POST_BUTTON" />
		<execute action="SOMicroblogs#pause" value1="1000" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Microblogs" />
			<var name="soDashboard" value="true" />
			<var name="soPage" value="true" />
		</execute>

		<execute action="SOMicroblogs#assertTextNotPresent" value1="${microblogsEntryContent}" />
	</command>

	<command name="addMicroblogsEntryMention">
		<if>
			<condition action="SOMicroblogs#isElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT_GENERAL" />
			<then>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_FIELD" />
		<execute action="SOUserBar#selectFrameTop" />

		<execute macro="SOMicroblogs#selectViewableByCmd">
			<var name="microblogsEntryViewableBy" value="${microblogsEntryViewableBy}" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />

		<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryContent} @${mentionUserFirstName}" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserName}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_EMAIL" value1="${mentionUserEmailAddress}" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserName}" />
		<execute action="SOMicroblogs#click" locator-key1="POST_BUTTON" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent} ${mentionUserName}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent} ${mentionUserName}" />
	</command>

	<command name="addMicroblogsEntryMentions">
		<if>
			<condition action="SOMicroblogs#isElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT_GENERAL" />
			<then>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_FIELD" />
		<execute action="SOUserBar#selectFrameTop" />

		<execute macro="SOMicroblogs#selectViewableByCmd">
			<var name="microblogsEntryViewableBy" value="${microblogsEntryViewableBy}" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />
		<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryContent} " />

		<for list="${mentionUserNameList}" param="mentionUserName">
			<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1=" @${mentionUserName}" />
			<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserName}" />
			<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1=" " />
		</for>

		<execute action="SOMicroblogs#click" locator-key1="POST_BUTTON" />
	</command>

	<command name="deleteAndEditMicroblogsEntry">
		<execute action="SOMicroblogs#makeVisible" locator-key1="MICROBLOGS_ENTRY_EDIT" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_EDIT_LINK" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_FIELD" />
		<execute action="SOUserBar#selectFrameTop" />

		<execute macro="SOMicroblogs#selectViewableByCmd">
			<var name="editInDashboard" value="true" />
			<var name="microblogsEntryViewableBy" value="${microblogsEntryViewableBy}" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />

		<execute macro="SOMicroblogs#deleteMicroblogsTextFieldCmd" />

		<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryContentEdit}" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd">
			<var name="editInDashboard" value="true" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_POST_BUTTON" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContentEdit}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContentEdit}" />
	</command>

	<command name="deleteAndEditMicroblogsEntryMention">
		<execute action="SOMicroblogs#makeVisible" locator-key1="MICROBLOGS_ENTRY_EDIT" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_EDIT_LINK" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_FIELD" />
		<execute action="SOUserBar#selectFrameTop" />

		<execute macro="SOMicroblogs#selectViewableByCmd">
			<var name="editInDashboard" value="true" />
			<var name="microblogsEntryViewableBy" value="${microblogsEntryViewableBy}" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />

		<execute macro="SOMicroblogs#deleteMicroblogsTextFieldCmd" />

		<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="${microblogsEntryContentEdit} @${mentionUserFirstName}" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd">
			<var name="editInDashboard" value="true" />
		</execute>

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserName}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_EMAIL" value1="${mentionUserEmailAddress}" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_AUTOCOMPLETE_USERNAME" value1="${mentionUserName}" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_POST_BUTTON" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContentEdit} ${mentionUserName}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContentEdit} ${mentionUserName}" />
	</command>

	<command name="deleteMicroblogsEntry">
		<execute action="SOMicroblogs#makeVisible" locator-key1="MICROBLOGS_ENTRY_DELETE" />
		<execute action="SOMicroblogs#clickNoError" locator-key1="MICROBLOGS_ENTRY_DELETE_LINK" value1="Delete" />
		<execute action="SOMicroblogs#confirm" locator-key1="CONFIRMATION" value1="Are you sure you want to delete this post?" />
	</command>

	<command name="deleteMicroblogsEntryComment">
		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<if>
			<isset var="commentCount" />
			<then>
				<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="${commentCount} Comments" />
			</then>
			<else>
				<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="1 Comment" />
			</else>
		</if>

		<execute action="SOMicroblogs#makeVisible" locator-key1="MICROBLOGS_ENTRY_COMMENT_DELETE" />
		<execute action="SOMicroblogs#clickNoError" locator-key1="MICROBLOGS_ENTRY_COMMENT_DELETE_LINK" value1="Delete" />
		<execute action="SOMicroblogs#confirm" locator-key1="CONFIRMATION" value1="Are you sure you want to delete this post?" />
	</command>

	<command name="deleteMicroblogsEntryCommentViaProfile">
		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="Dockbar#click" locator-key1="USER_NAME" />
		<execute action="Dockbar#click" locator-key1="USER_MY_PROFILE" value1="My Profile" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<if>
			<isset var="commentCount" />
			<then>
				<execute action="SOMicroblogsProfile#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="${commentCount} Comments" />
			</then>
			<else>
				<execute action="SOMicroblogsProfile#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="1 Comment" />
			</else>
		</if>

		<execute action="SOMicroblogsProfile#makeVisible" locator-key1="MICROBLOGS_ENTRY_COMMENT_DELETE" />
		<execute action="SOMicroblogsProfile#clickNoError" locator-key1="MICROBLOGS_ENTRY_COMMENT_DELETE_LINK" value1="Delete" />
		<execute action="SOMicroblogsProfile#confirm" locator-key1="CONFIRMATION" value1="Are you sure you want to delete this post?" />
	</command>

	<command name="deleteMicroblogsEntryViaProfile">
		<execute action="Dockbar#click" locator-key1="USER_NAME" />
		<execute action="Dockbar#click" locator-key1="USER_MY_PROFILE" value1="My Profile" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute action="SOMicroblogsProfile#makeVisible" locator-key1="MICROBLOGS_ENTRY_DELETE" />
		<execute action="SOMicroblogsProfile#clickNoError" locator-key1="MICROBLOGS_ENTRY_DELETE_LINK" value1="Delete" />
		<execute action="SOMicroblogsProfile#confirm" locator-key1="CONFIRMATION" value1="Are you sure you want to delete this post?" />
	</command>

	<command name="deleteMicroblogsTextFieldCmd">
		<while>
			<condition action="SOMicroblogs#isElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_COUNTDOWN_WARNING" />
			<then>
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
				<execute action="SOMicroblogs#keyPress" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1="\BACK_SPACE" />
			</then>
		</while>
	</command>

	<command name="displayMicroblogsCommentTextFieldCmd">
		<if>
			<not>
				<contains string="${commentCount}" substring="{commentCount}" />
			</not>
			<then>
				<if>
					<equals arg1="${commentCount}" arg2="1" />
					<then>
						<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="1 Comment" />
					</then>
					<else>
						<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="${commentCount} Comments" />
					</else>
				</if>
			</then>
			<else>
				<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="Comment" />
			</else>
		</if>
	</command>

	<command name="editMicroblogsEntry">
		<execute action="SOMicroblogs#makeVisible" locator-key1="MICROBLOGS_ENTRY_EDIT" />
		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_EDIT_LINK" />

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_FIELD" />
		<execute action="SOUserBar#selectFrameTop" />

		<execute macro="SOMicroblogs#selectViewableByCmd">
			<var name="editInDashboard" value="true" />
			<var name="microblogsEntryViewableBy" value="${microblogsEntryViewableBy}" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" />

		<execute action="SOMicroblogs#type" locator-key1="MICROBLOGS_CONTENT_INPUT_FIELD" value1=" Edit" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd">
			<var name="editInDashboard" value="true" />
		</execute>

		<execute action="SOMicroblogs#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_POST_BUTTON" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent} Edit" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent} Edit" />
	</command>

	<command name="editMicroblogsEntryViaProfile">
		<execute action="Dockbar#click" locator-key1="USER_NAME" />
		<execute action="Dockbar#click" locator-key1="USER_MY_PROFILE" value1="My Profile" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogsProfile#makeVisible" locator-key1="MICROBLOGS_ENTRY_EDIT" />
		<execute action="SOMicroblogsProfile#click" locator-key1="MICROBLOGS_ENTRY_EDIT_LINK" />

		<execute action="SOMicroblogsProfile#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_FIELD" />
		<execute action="SOUserBar#selectFrameTop" />

		<execute macro="SOMicroblogs#selectViewableByCmd">
			<var name="microblogsEntryViewableBy" value="${microblogsEntryViewableBy}" />
		</execute>

		<execute action="SOMicroblogsProfile#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_INPUT_FIELD" />
		<execute action="SOMicroblogsProfile#type" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_INPUT_FIELD" value1=" Edit" />

		<execute macro="SOMicroblogs#viewCharacterCountdownCmd" />

		<execute action="SOMicroblogsProfile#click" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_POST_BUTTON" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent} Edit" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent} Edit" />
	</command>

	<command name="repostMicroblogsEntry">
		<execute macro="SOMicroblogs#viewMicroblogsEntryViewableByEveryone" />

		<execute action="SOMicroblogsProfile#assertClick" locator-key1="MICROBLOGS_ENTRY_REPOST_LINK" value1="Repost" />

		<execute action="SOMicroblogsProfileRepost#assertTextEquals" locator-key1="HEADER" value1="Do you want to repost this entry?" />
		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_AUTHOR" value1="${microblogsEntryAuthorName}" />
		<execute action="SOMicroblogsProfileRepost#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogsProfileRepost#assertClick" locator-key1="POST_BUTTON" value1="Post" />

		<execute action="SOProfile#assertElementPresent" locator-key1="USER_NAME" />
	</command>

	<command name="selectViewableByCmd">
		<if>
			<equals arg1="${editInDashboard}" arg2="true" />
			<then>
				<if>
					<not>
						<contains string="${microblogsEntryViewableBy}" substring="{microblogsEntryViewableBy}" />
					</not>
					<then>
						<execute action="SOMicroblogs#select" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_VIEW_FILTER" value1="${microblogsEntryViewableBy}" />
					</then>
					<else>
						<execute action="SOMicroblogs#select" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_VIEW_FILTER" value1="Everyone" />
					</else>
				</if>
			</then>
			<else>
				<if>
					<not>
						<contains string="${microblogsEntryViewableBy}" substring="{microblogsEntryViewableBy}" />
					</not>
					<then>
						<execute action="SOMicroblogs#select" locator-key1="MICROBLOGS_CONTENT_VIEW_FILTER" value1="${microblogsEntryViewableBy}" />
					</then>
					<else>
						<execute action="SOMicroblogs#select" locator-key1="MICROBLOGS_CONTENT_VIEW_FILTER" value1="Everyone" />
					</else>
				</if>
			</else>
		</if>
	</command>

	<command name="tearDownMicroblogsEntry">
		<execute macro="SOUser#firstLoginPG" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Microblogs" />
			<var name="soDashboard" value="true" />
			<var name="soPage" value="true" />
		</execute>

		<while>
			<condition action="SOMicroblogs#isElementPresent" locator-key1="MICROBLOGS_ENTRY_DELETE_LINK" value1="Delete" />
			<then>
				<execute action="SOMicroblogs#makeVisible" locator-key1="MICROBLOGS_ENTRY_DELETE" />
				<execute action="SOMicroblogs#clickNoError" locator-key1="MICROBLOGS_ENTRY_DELETE_LINK" value1="Delete" />
				<execute action="SOMicroblogs#confirm" locator-key1="CONFIRMATION" value1="Are you sure you want to delete this post?" />
			</then>
		</while>
	</command>

	<command name="unsubscribeFromMicroblogsEntryNotifications">
		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute action="SOUserBar#assertElementPresent" locator-key1="NOTIFICATION" />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_COUNT" value1="1" />
		<execute action="SOUserBar#click" locator-key1="NOTIFICATION" />
		<execute action="SOUserBar#click" locator-key1="NOTIFICATION_MENU_NOTIFICATION_DROPDOWN_BUTTON" />
		<execute action="SOUserBar#click" locator-key1="NOTIFICATION_MENU_NOTIFICATION_UNSUBSCRIBE" />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_COUNT" value1="0" />
	</command>

	<command name="viewCharacterCountdownCmd">
		<var attribute="value" locator-key="MICROBLOGS_CONTENT_INPUT_FIELD" name="textFieldContent" path="SOMicroblogs" />
		<var name="textFieldContentLength" value="${textFieldContent?length()}" />

		<var method="MathUtil#difference(&quot;150&quot;, &quot;${textFieldContentLength}&quot;)" name="characterCountdown" />

		<if>
			<equals arg1="${commentInDashboard}" arg2="true" />
			<then>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_COUNTDOWN" value1="${characterCountdown}" />
			</then>
			<elseif>
				<equals arg1="${editInDashboard}" arg2="true" />
				<then>
					<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_EDIT_COUNTDOWN" value1="${characterCountdown}" />
				</then>
			</elseif>
			<else>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_CONTENT_COUNTDOWN" value1="${characterCountdown}" />
			</else>
		</if>
	</command>

	<command name="viewMicroblogsEntryAuthor">
		<if>
			<isset var="microblogsEntryPartialContent" />
			<then>
				<var name="key_microblogsEntryContent" value="${microblogsEntryPartialContent}" />
			</then>
			<else>
				<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
			</else>
		</if>

		<if>
			<isset var="microblogsEntryRepostAuthorName" />
			<then>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_AUTHOR" value1="${microblogsEntryRepostAuthorName} Reposted From ${microblogsEntryAuthorName}" />
			</then>
			<else>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_AUTHOR" value1="${microblogsEntryAuthorName}" />
			</else>
		</if>
	</command>

	<command name="viewMicroblogsEntryComment">
		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<if>
			<equals arg1="${commentCount}" arg2="1" />
			<then>
				<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="1 Comment" />
			</then>
			<else>
				<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="${commentCount} Comments" />
			</else>
		</if>

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_AUTHOR" value1="${microblogsEntryCommentAuthorName}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent}" />
	</command>

	<command name="viewMicroblogsEntryCommentLink">
		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />

		<if>
			<isset var="microblogsEntryPartialContent" />
			<then>
				<var name="key_microblogsEntryContent" value="${microblogsEntryPartialContent}" />
			</then>
			<else>
				<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
			</else>
		</if>

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLinkCmd">
			<var name="commentCount" value="${commentCount}" />
		</execute>
	</command>

	<command name="viewMicroblogsEntryCommentLinkCmd">
		<if>
			<not>
				<contains string="${commentCount}" substring="{commentCount}" />
			</not>
			<then>
				<if>
					<equals arg1="${commentCount}" arg2="1" />
					<then>
						<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="1 Comment" />
					</then>
					<else>
						<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="${commentCount} Comments" />
					</else>
				</if>
			</then>
			<else>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_LINK" value1="Comment" />
			</else>
		</if>
	</command>

	<command name="viewMicroblogsEntryCommentNotification">
		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute action="SOUserBar#assertElementPresent" locator-key1="NOTIFICATION" />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_COUNT" value1="1" />
		<execute action="SOUserBar#click" locator-key1="NOTIFICATION" />

		<if>
			<equals arg1="${ownMicroblogsEntry}" arg2="false" />
			<then>
				<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_CONTENT" value1="${microblogsEntryCommentAuthorName} also commented on ${microblogsEntryAuthorName}&apos;s post." />
			</then>
			<else>
				<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_CONTENT" value1="${microblogsEntryCommentAuthorName} commented on your post." />
			</else>
		</if>

		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_SUBCONTENT" value1="${microblogsEntryCommentContent}" />

		<if>
			<and>
				<equals arg1="${mention}" arg2="true" />
				<equals arg1="${tag}" arg2="true" />
			</and>
			<then>
				<execute macro="SOMicroblogs#viewMicroblogsEntryCommentNotificationMentionCmd">
					<var name="mentionUserEmailAddress" value="${mentionUserEmailAddress}" />
					<var name="mentionUserName" value="${mentionUserName}" />
					<var name="microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
				</execute>

				<execute action="SOUserBar#click" locator-key1="NOTIFICATION" />

				<execute macro="SOMicroblogs#viewMicroblogsEntryCommentNotificationTagCmd">
					<var name="microblogsEntryCommentAuthorName" value="${microblogsEntryCommentAuthorName}" />
					<var name="microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
					<var name="microblogsEntryCommentTagValue" value="${microblogsEntryCommentTagValue}" />
				</execute>

				<execute action="SOUserBar#click" locator-key1="NOTIFICATION" />
			</then>
			<elseif>
				<equals arg1="${mention}" arg2="true" />
				<then>
					<execute macro="SOMicroblogs#viewMicroblogsEntryCommentNotificationMentionCmd">
						<var name="mentionUserEmailAddress" value="${mentionUserEmailAddress}" />
						<var name="mentionUserName" value="${mentionUserName}" />
						<var name="microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
					</execute>

					<execute action="SOUserBar#click" locator-key1="NOTIFICATION" />
				</then>
			</elseif>
			<elseif>
				<equals arg1="${tag}" arg2="true" />
				<then>
					<execute macro="SOMicroblogs#viewMicroblogsEntryCommentNotificationTagCmd">
						<var name="microblogsEntryCommentAuthorName" value="${microblogsEntryCommentAuthorName}" />
						<var name="microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
						<var name="microblogsEntryCommentTagValue" value="${microblogsEntryCommentTagValue}" />
					</execute>

					<execute action="SOUserBar#click" locator-key1="NOTIFICATION" />
				</then>
			</elseif>
		</if>

		<execute action="SOUserBar#click" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_CONTENT" />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_COUNT" value1="0" />
	</command>

	<command name="viewMicroblogsEntryCommentNotificationMentionCmd">
		<var name="key_mentionUserName" value="${mentionUserName}" />
		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />

		<execute action="SOUserBar#assertClick" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_SUBCONTENT_MICROBLOGS_COMMENT_MENTION_LINK" value1="${mentionUserName}" />

		<execute action="SOProfile#assertTextEquals" locator-key1="USER_NAME" value1="${mentionUserName}" />
		<execute action="SOProfile#assertTextEquals" locator-key1="USER_EMAIL" value1="${mentionUserEmailAddress}" />
	</command>

	<command name="viewMicroblogsEntryCommentNotificationTagCmd">
		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
		<var name="key_microblogsEntryCommentTagValue" value="${microblogsEntryCommentTagValue}" />

		<execute action="SOUserBar#assertClick" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_SUBCONTENT_MICROBLOGS_COMMENT_TAG_LINK" value1="${microblogsEntryCommentTagValue}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_AUTHOR" value1="${microblogsEntryCommentAuthorName}" />

		<var name="key_microblogsEntryTagValue" value="${microblogsEntryCommentTagValue}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryCommentTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_TAG" value1="${microblogsEntryCommentTagValue}" />
	</command>

	<command name="viewMicroblogsEntryCommentTag">
		<execute macro="SOMicroblogs#viewMicroblogsEntryComment" />

		<var name="key_microblogsEntryCommentContent" value="${microblogsEntryCommentContent}" />
		<var name="key_microblogsEntryCommentTagValue" value="${microblogsEntryCommentTagValue}" />
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
		<var name="key_microblogsEntryTagValue" value="${microblogsEntryCommentTagValue}" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_TAG" value1="${microblogsEntryCommentTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_AUTHOR" value1="${microblogsEntryCommentAuthorName}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryCommentTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_TAG" value1="${microblogsEntryCommentTagValue}" />
		<execute action="SOMicroblogs#assertClick" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryCommentTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_AUTHOR" value1="${microblogsEntryCommentAuthorName}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryCommentTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT" value1="${microblogsEntryCommentContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_COMMENT_CONTENT_TAG" value1="${microblogsEntryCommentTagValue}" />
		<execute action="SOMicroblogs#assertClick" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryCommentTagValue}" />
	</command>

	<command name="viewMicroblogsEntryMention">
		<var name="microblogsEntryContent" value="${microblogsEntryContent} ${mentionUserName}" />

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute macro="SOStatusUpdate#configureStatusUpdateDisplayPG" />

		<if>
			<condition action="SOStatusUpdate#isElementNotPresent" locator-key1="STATUS_UPDATE_ENTRY_CONTENT" />
			<then>
				<execute action="SOStatusUpdate#assertTextEquals" locator-key1="STATUS_UPDATE_INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SODashboard#click" locator-key1="NAVIGATION_MICROBLOGS" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<execute action="SOMicroblogs#assertClick" locator-key1="TAB_MENTIONS" value1="Mentions" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<var name="key_mentionUserName" value="${mentionUserName}" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_MENTION" value1="${mentionUserName}" />

		<execute action="SOProfile#assertTextEquals" locator-key1="USER_NAME" value1="${mentionUserName}" />
		<execute action="SOProfile#assertTextEquals" locator-key1="USER_EMAIL" value1="${mentionUserEmailAddress}" />
	</command>

	<command name="viewMicroblogsEntryMentionNotification">
		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute action="SOUserBar#assertElementPresent" locator-key1="NOTIFICATION" />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_COUNT" value1="1" />
		<execute action="SOUserBar#click" locator-key1="NOTIFICATION" />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_CONTENT" value1="${microblogsEntryAuthorName} tagged you in a post." />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_SUBCONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOUserBar#click" locator-key1="NOTIFICATION_MENU_NOTIFICATION_ENTRY_CONTENT" />
		<execute action="SOUserBar#assertTextEquals" locator-key1="NOTIFICATION_MENU_COUNT" value1="0" />
	</command>

	<command name="viewMicroblogsEntryMentions">
		<var name="microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute macro="SOStatusUpdate#configureStatusUpdateDisplayPG" />

		<if>
			<condition action="SOStatusUpdate#isElementNotPresent" locator-key1="STATUS_UPDATE_ENTRY_CONTENT" />
			<then>
				<execute action="SOStatusUpdate#assertTextEquals" locator-key1="STATUS_UPDATE_INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SODashboard#click" locator-key1="NAVIGATION_MICROBLOGS" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<execute action="SOMicroblogs#assertClick" locator-key1="TAB_MENTIONS" value1="Mentions" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<var name="key_mentionUserName" value="${mentionUserName}" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_MENTION" value1="${mentionUserName}" />

		<execute action="SOProfile#assertTextEquals" locator-key1="USER_NAME" value1="${mentionUserName}" />
		<execute action="SOProfile#assertTextEquals" locator-key1="USER_EMAIL" value1="${mentionUserEmailAddress}" />
	</command>

	<command name="viewMicroblogsEntryMentionViaProfile">
		<var name="microblogsEntryContent" value="${microblogsEntryContent} ${mentionUserName}" />

		<execute action="Dockbar#click" locator-key1="USER_NAME" />
		<execute action="Dockbar#click" locator-key1="USER_MY_PROFILE" value1="My Profile" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<var name="key_mentionUserName" value="${mentionUserName}" />

		<execute action="SOMicroblogsProfile#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_MENTION" value1="${mentionUserName}" />

		<execute action="SOProfile#assertTextEquals" locator-key1="USER_NAME" value1="${mentionUserName}" />
		<execute action="SOProfile#assertTextEquals" locator-key1="USER_EMAIL" value1="${mentionUserEmailAddress}" />
		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute action="Dockbar#click" locator-key1="USER_NAME" />
		<execute action="Dockbar#click" locator-key1="USER_MY_PROFILE" value1="My Profile" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute action="SOMicroblogsProfile#assertClick" locator-key1="TAB_MENTIONS" value1="Mentions" />

		<execute action="SOMicroblogsProfile#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
	</command>

	<command name="viewMicroblogsEntryNone">
		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute macro="SOStatusUpdate#configureStatusUpdateDisplayPG" />

		<if>
			<condition action="SOStatusUpdate#isElementNotPresent" locator-key1="STATUS_UPDATE_ENTRY_CONTENT" />
			<then>
				<execute action="SOStatusUpdate#assertTextEquals" locator-key1="STATUS_UPDATE_INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SODashboard#assertTextNotPresent" value1="${microblogsEntryContent}" />

		<execute action="SOActivities#assertClick" locator-key1="NAVIGATION_CONNECTIONS" value1="Connections" />
		<execute action="SOActivities#assertTextEquals" locator-key1="NO_ACTIVITIES" value1="There are no activities." />
		<execute action="SOActivities#assertTextNotPresent" value1="${microblogsEntryContent}" />
		<execute action="SOActivities#assertClick" locator-key1="NAVIGATION_FOLLOWING" value1="Following" />
		<execute action="SOActivities#assertTextEquals" locator-key1="NO_ACTIVITIES" value1="There are no activities." />
		<execute action="SOActivities#assertTextNotPresent" value1="${microblogsEntryContent}" />

		<execute action="SODashboard#click" locator-key1="NAVIGATION_MICROBLOGS" />

		<if>
			<condition action="SOMicroblogs#isElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT_GENERAL" />
			<then>
				<execute action="SOMicroblogs#assertTextEquals" locator-key1="INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="SOMicroblogs#assertTextNotPresent" value1="${microblogsEntryContent}" />
	</command>

	<command name="viewMicroblogsEntryNotViewableByEveryone">
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute macro="SOStatusUpdate#configureStatusUpdateDisplayPG" />

		<execute action="SOStatusUpdate#assertTextEquals" locator-key1="STATUS_UPDATE_INFO_MESSAGE" value1="You do not have any microblog entries." />

		<execute action="SODashboard#click" locator-key1="NAVIGATION_MICROBLOGS" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<execute action="SOMicroblogs#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_REPOST_LINK" />
		<execute action="SOMicroblogs#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_EDIT_LINK" />
		<execute action="SOMicroblogs#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_DELETE_LINK" />
	</command>

	<command name="viewMicroblogsEntryNotViewableByEveryoneTag">
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryNotViewableByEveryone" />

		<var name="key_microblogsEntryTagValue" value="${microblogsEntryTagValue}" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertClick" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
	</command>

	<command name="viewMicroblogsEntryOwnMentionViaProfile">
		<var name="microblogsEntryContent" value="${microblogsEntryContent} ${mentionUserName}" />

		<execute action="Dockbar#click" locator-key1="USER_NAME" />
		<execute action="Dockbar#click" locator-key1="USER_MY_PROFILE" value1="My Profile" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute action="SOMicroblogsProfile#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute action="SOMicroblogsProfile#assertClick" locator-key1="TAB_MENTIONS" value1="Mentions" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<var name="key_mentionUserName" value="${mentionUserName}" />

		<execute action="SOMicroblogsProfile#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_MENTION" value1="${mentionUserName}" />

		<execute action="SOProfile#assertTextEquals" locator-key1="USER_NAME" value1="${mentionUserName}" />
		<execute action="SOProfile#assertTextEquals" locator-key1="USER_EMAIL" value1="${mentionUserEmailAddress}" />
	</command>

	<command name="viewMicroblogsEntryTagViaProfile">
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
		<var name="key_microblogsEntryTagValue" value="${microblogsEntryTagValue}" />

		<execute action="SOMicroblogsProfile#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogsProfile#assertClick" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
	</command>

	<command name="viewMicroblogsEntryViewableByEveryone">
		<if>
			<isset var="microblogsEntryPartialContent" />
			<then>
				<var name="key_microblogsEntryContent" value="${microblogsEntryPartialContent}" />
			</then>
			<else>
				<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
			</else>
		</if>

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute action="SODashboard#click" locator-key1="NAVIGATION_CONTACTS_CENTER" />

		<execute action="SOContactscenter#type" locator-key1="CONTACTS_LIST_SEARCH" value1="${microblogsEntryAuthorScreenName}" />
		<execute action="SOContactscenter#assertClick" locator-key1="CONTACTS_LIST_NAME" value1="${microblogsEntryAuthorLastName}, ${microblogsEntryAuthorFirstName}" />
		<execute action="SOContactscenter#assertClick" locator-key1="USER_DETAILS_NAME" value1="${microblogsEntryAuthorName}" />

		<execute action="SOStatusUpdate#assertTextEquals" locator-key1="STATUS_UPDATE_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLinkCmd">
			<var name="commentCount" value="${commentCount}" />
		</execute>

		<execute action="SOMicroblogsProfile#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_REPOST_LINK" value1="Repost" />
		<execute action="SOMicroblogsProfile#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_EDIT_LINK" value1="Edit" />
		<execute action="SOMicroblogsProfile#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_DELETE_LINK" value1="Delete" />
	</command>

	<command name="viewMicroblogsEntryViewableByEveryoneMicroblogsPage">
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute macro="SOStatusUpdate#configureStatusUpdateDisplayPG" />

		<execute action="SOStatusUpdate#assertTextEquals" locator-key1="STATUS_UPDATE_INFO_MESSAGE" value1="You do not have any microblog entries." />

		<execute action="SODashboard#click" locator-key1="NAVIGATION_MICROBLOGS" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />
	</command>

	<command name="viewMicroblogsEntryViewableByEveryoneTag">
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryViewableByEveryoneMicroblogsPage" />

		<var name="key_microblogsEntryTagValue" value="${microblogsEntryTagValue}" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertClick" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
	</command>

	<command name="viewNonViewableMicroblogsEntryViaProfile">
		<if>
			<isset var="microblogsEntryPartialContent" />
			<then>
				<var name="key_microblogsEntryContent" value="${microblogsEntryPartialContent}" />
			</then>
			<else>
				<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
			</else>
		</if>

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Contacts Center" />
			<var name="soDashboard" value="true" />
			<var name="soPage" value="true" />
		</execute>

		<execute action="SOContactscenter#type" locator-key1="CONTACTS_LIST_SEARCH" value1="${microblogsEntryAuthorScreenName}" />
		<execute action="SOContactscenter#assertClick" locator-key1="CONTACTS_LIST_NAME" value1="${microblogsEntryAuthorLastName}, ${microblogsEntryAuthorFirstName}" />
		<execute action="SOContactscenter#assertClick" locator-key1="USER_DETAILS_NAME" value1="${microblogsEntryAuthorName}" />

		<execute action="SOProfile#assertTextNotPresent" value1="${microblogsEntryContent}" />

		<execute action="SOProfile#click" locator-key1="NAVIGATION_MICROBLOGS" value1="Microblogs" />

		<execute action="SOMicroblogsProfile#assertTextNotPresent" value1="${microblogsEntryContent}" />
	</command>

	<command name="viewOwnMicroblogsEntry">
		<if>
			<isset var="microblogsEntryPartialContent" />
			<then>
				<var name="key_microblogsEntryContent" value="${microblogsEntryPartialContent}" />
			</then>
			<else>
				<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
			</else>
		</if>

		<execute macro="SOUserBar#gotoDashboardPG" />

		<execute macro="SOStatusUpdate#configureStatusUpdateDisplayPG" />

		<execute action="SOStatusUpdate#assertTextEquals" locator-key1="STATUS_UPDATE_ENTRY_CONTENT" value1="${statusUpdateEntryContent}" />
		<execute action="SODashboard#click" locator-key1="NAVIGATION_MICROBLOGS" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<execute action="SOMicroblogs#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_REPOST_LINK" value1="Repost" />
	</command>

	<command name="viewOwnMicroblogsEntryMention">
		<var name="microblogsEntryContent" value="${microblogsEntryContent} ${mentionUserName}" />
		<var name="statusUpdateEntryContent" value="${microblogsEntryContent}" />

		<var name="key_mentionUserName" value="${mentionUserName}" />
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewOwnMicroblogsEntry" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_MENTION" value1="${mentionUserName}" />

		<execute action="SOProfile#assertTextEquals" locator-key1="USER_NAME" value1="${mentionUserName}" />
		<execute action="SOProfile#assertTextEquals" locator-key1="USER_EMAIL" value1="${mentionUserEmailAddress}" />
	</command>

	<command name="viewOwnMicroblogsEntryMentions">
		<var name="statusUpdateEntryContent" value="${microblogsEntryContent}" />

		<var name="key_mentionUserName" value="${mentionUserName}" />
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewOwnMicroblogsEntry" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_MENTION" value1="${mentionUserName}" />

		<execute action="SOProfile#assertTextEquals" locator-key1="USER_NAME" value1="${mentionUserName}" />
		<execute action="SOProfile#assertTextEquals" locator-key1="USER_EMAIL" value1="${mentionUserEmailAddress}" />
	</command>

	<command name="viewOwnMicroblogsEntryTag">
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />
		<var name="key_microblogsEntryTagValue" value="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewOwnMicroblogsEntry" />

		<execute action="SOMicroblogs#assertClick" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertClick" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="TAB_TAG_VALUE" value1="${microblogsEntryTagValue}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />
		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT_TAG" value1="${microblogsEntryTagValue}" />
	</command>

	<command name="viewOwnMicroblogsRepost">
		<var name="key_microblogsEntryContent" value="${microblogsEntryContent}" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="Microblogs" />
			<var name="soDashboard" value="true" />
			<var name="soPage" value="true" />
		</execute>

		<execute macro="SOMicroblogs#viewMicroblogsEntryAuthor" />

		<execute action="SOMicroblogs#assertTextEquals" locator-key1="MICROBLOGS_ENTRY_CONTENT" value1="${microblogsEntryContent}" />

		<execute macro="SOMicroblogs#viewMicroblogsEntryCommentLink" />

		<execute action="SOMicroblogs#assertElementNotPresent" locator-key1="MICROBLOGS_ENTRY_REPOST_LINK" value1="Repost" />
	</command>
</definition>