<definition>
	<var name="assetType" value="Message Boards Thread" />
	<var name="userName" value="Test Test" />

	<command name="addCP">
		<execute action="CPMessageboards#assertClick" locator-key1="POST_NEW_THREAD_BUTTON" value1="Post New Thread" />

		<execute action="CPMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubject}" />
		<execute action="CPMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadBody}" />
		<execute action="CPMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="addCPWithAttachment">
		<execute action="CPMessageboards#assertClick" locator-key1="POST_NEW_THREAD_BUTTON" value1="Post New Thread" />

		<execute action="CPMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubject}" />
		<execute action="CPMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadBody}" />

		<if>
			<condition action="CPMessageboardsPostthread#isElementPresent" locator-key1="ATTACHMENTS_BROWSE_FIELD" />
			<then>
				<execute action="CPMessageboardsPostthread#click" locator-key1="ATTACHMENTS_DROPDOWN" />
			</then>
		</if>

		<execute action="CPMessageboardsPostthread#uploadCommonFile" locator-key1="ATTACHMENTS_BROWSE_FIELD" value1="${mbAttachmentFile}" />
		<execute action="CPMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="addInvalidAttachmentPG">
		<execute action="PGMessageboards#click" locator-key1="POST_NEW_THREAD_BUTTON" />

		<execute action="PGMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubject}" />

		<if>
			<condition action="PGMessageboardsPostthread#isElementPresent" locator-key1="ATTACHMENTS_DROPDOWN_COLLAPSED" />
			<then>
				<execute action="PGMessageboardsPostthread#assertClick" locator-key1="ATTACHMENTS_DROPDOWN" value1="Attachments" />
			</then>
		</if>

		<execute action="PGMessageboardsPostthread#uploadCommonFile" locator-key1="ATTACHMENTS_FILE_FIELD_1" value1="${mbThreadAttachment}" />
		<execute action="PGMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />
		<execute action="PGMessageboardsPostthread#assertTextEquals" locator-key1="ERROR_MESSAGE_1" value1="Your request failed to complete." />

		<if>
			<equals arg1="${invalidSize}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#assertTextEquals" locator-key1="ERROR_MESSAGE_2" value1="Please enter a file with a valid file size no larger than ${maxAttachmentFileSize}KB." />
			</then>
		</if>
	</command>

	<command name="addPG">
		<execute action="PGMessageboards#click" locator-key1="POST_NEW_THREAD_BUTTON" />

		<execute action="PGMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubject}" />

		<if>
			<isset var="source" />
			<then>
				<execute action="PGMessageboardsPostthread#click" locator-key1="SOURCE_BUTTON" />
				<execute action="PGMessageboardsPostthread#type" locator-key1="BODY_FIELD_SOURCE_ON" value1="${threadBody}" />
				<execute action="PGMessageboardsPostthread#click" locator-key1="SOURCE_BUTTON" />
			</then>
			<else>
				<execute action="PGMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadBody}" />
			</else>
		</if>

		<if>
			<equals arg1="${markAsQuestion}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#check" locator-key1="MARK_AS_A_QUESTION_CHECKBOX" />
			</then>
		</if>

		<if>
			<equals arg1="${anonymous}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#check" locator-key1="ANONYMOUS_CHECKBOX" />
			</then>
		</if>

		<if>
			<equals arg1="${priority}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#select" locator-key1="PRIORITY_SELECT" value1="${threadPriority}" />
			</then>
		</if>

		<if>
			<equals arg1="${viewableBy}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#select" locator-key1="PERMISSIONS_VIEWABLE_BY_DROPDOWN" value1="${viewableBySelection}" />
			</then>
		</if>

		<if>
			<isset var="mbThreadAttachment" />
			<then>
				<if>
					<condition action="PGMessageboardsPostthread#isElementPresent" locator-key1="ATTACHMENTS_DROPDOWN_COLLAPSED" />
					<then>
						<execute action="PGMessageboardsPostthread#assertClick" locator-key1="ATTACHMENTS_DROPDOWN" value1="Attachments" />
					</then>
				</if>

				<execute action="PGMessageboardsPostthread#uploadCommonFile" locator-key1="ATTACHMENTS_FILE_FIELD_1" value1="${mbThreadAttachment}" />
			</then>
		</if>

		<if>
			<equals arg1="${threadAddTag}" arg2="true" />
			<then>
				<execute macro="MessageboardsThread#addTagPGCmd" />
			</then>
		</if>

		<if>
			<equals arg1="${saveAsDraft}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#assertClick" locator-key1="SAVE_AS_DRAFT_BUTTON" value1="Save as Draft" />
			</then>
			<elseif>
				<equals arg1="${preview}" arg2="true" />
				<then>
					<execute action="PGMessageboardsPostthread#assertClick" locator-key1="PREVIEW_BUTTON" value1="Preview" />

					<var name="key_threadSubject" value="${threadSubject}" />

					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="Edit ${threadSubject}" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_WORKFLOW_STATUS_1" value1="Draft" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBody}" />
				</then>
			</elseif>
			<else>
				<execute action="PGMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />
			</else>
		</if>

		<execute action="PGMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="addTagPGCmd">
		<execute action="PGMessageboardsPostthread#assertTextEquals" locator-key1="SUBJECT_FIELD" value1="${threadSubject}" />
		<execute action="PGMessageboardsPostthread#assertElementPresent" locator-key1="BODY_FIELD" />

		<if>
			<condition action="PGMessageboardsPostthread#isElementNotPresent" locator-key1="CATEGORIZATION_TAGS_ADD_BUTTON" />
			<then>
				<execute action="PGMessageboardsPostthread#assertClick" locator-key1="CATEGORIZATION_TOGGLE" value1="Categorization" />
				<execute action="PGMessageboardsPostthread#assertElementPresent" locator-key1="CATEGORIZATION_TAGS_ADD_BUTTON" />
			</then>
		</if>

		<if>
			<isset var="tagNameList" />
			<then>
				<for list="${tagNameList}" param="tagName">
					<execute action="PGMessageboardsPostthread#type" locator-key1="CATEGORIZATION_TAGS_FIELD" value1="${tagName}" />
					<execute action="PGMessageboardsPostthread#assertClick" locator-key1="CATEGORIZATION_TAGS_ADD_BUTTON" value1="Add" />
				</for>
			</then>
			<else>
				<var name="key_tagName" value="${tagName}" />

				<execute action="PGMessageboardsPostthread#type" locator-key1="CATEGORIZATION_TAGS_FIELD" value1="${tagName}" />
				<execute action="PGMessageboardsPostthread#assertClick" locator-key1="CATEGORIZATION_TAGS_ADD_BUTTON" value1="Add" />
				<execute action="PGMessageboardsPostthread#assertElementPresent" locator-key1="CATEGORIZATION_TAG" value1="${tagName}" />
			</else>
		</if>
	</command>

	<command name="addWithWorkflowCP">
		<execute action="CPMessageboards#assertClick" locator-key1="POST_NEW_THREAD_BUTTON" value1="Post New Thread" />

		<execute action="CPMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubject}" />
		<execute action="CPMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadBody}" />
		<execute action="CPMessageboardsPostthread#click" locator-key1="SUBMIT_FOR_PUBLICATION_BUTTON" />

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="addWithWorkflowPG">
		<execute action="PGMessageboards#click" locator-key1="POST_NEW_THREAD_BUTTON" />

		<execute action="PGMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubject}" />
		<execute action="PGMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadBody}" />
		<execute action="PGMessageboardsPostthread#click" locator-key1="SUBMIT_FOR_PUBLICATION_BUTTON" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="banUser">
		<var name="key_userName" value="${userName}" />

		<if>
			<condition action="PGMessageboardsThread#isNotVisible" locator-key1="MESSAGE_USER_DETAILS" />
			<then>
				<execute action="PGMessageboardsThread#makeVisible" locator-key1="MESSAGE_USER_DETAILS" />
			</then>
		</if>

		<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_BAN_THIS_USER" value1="Ban This User" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="deletePG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_ACTIONS" />
		<execute action="PGMessageboards#click" locator-key1="THREAD_MENULIST_RECYCLE_BIN" />
		<execute action="PGMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE_RECYCLE_BIN" value1="The ${assetType} ${threadSubject} was moved to the Recycle Bin. Undo" />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_THREAD" />

		<execute macro="RecycleBin#emptyCP" />
	</command>

	<command name="editCP">
		<if>
			<condition action="CPMessageboardsThread#isElementNotPresent" locator-key1="MESSAGE_EDIT_1" />
			<then>
				<execute action="CPMessageboardsThread#makeVisible" locator-key1="MESSAGE_EDIT_1" value1="Edit" />
				<execute action="CPMessageboardsThread#assertClick" locator-key1="MESSAGE_EDIT_1" value1="Edit" />
			</then>
			<else>
				<execute action="CPMessageboardsThread#assertClick" locator-key1="MESSAGE_EDIT_1" value1="Edit" />
			</else>
		</if>

		<if>
			<equals arg1="${threadAttachmentRemove}" arg2="true" />
			<then>
				<if>
					<condition action="CPMessageboardsPostthread#isNotVisible" locator-key1="ATTACHMENTS_REMOVE_LINK" />
					<then>
						<execute action="CPMessageboardsPostthread#click" locator-key1="ATTACHMENTS_DROPDOWN" />
					</then>
				</if>

				<execute action="CPMessageboardsPostthread#assertTextEquals" locator-key1="ATTACHMENTS_NAME" value1="${mbAttachmentFile}" />
				<execute action="CPMessageboardsPostthread#assertClick" locator-key1="ATTACHMENTS_REMOVE_LINK" value1="Remove" />
			</then>
		</if>

		<if>
			<isset var="threadSubjectEdit" />
			<then>
				<execute action="CPMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubjectEdit}" />
			</then>
		</if>

		<if>
			<isset var="threadBodyEdit" />
			<then>
				<execute action="CPMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadBodyEdit}" />
			</then>
		</if>

		<execute action="CPMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />

		<execute action="CPMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="editPG">
		<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_EDIT_1" value1="Edit" />

		<if>
			<isset var="threadSubjectEdit" />
			<then>
				<execute action="PGMessageboardsPostthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSubjectEdit}" />
			</then>
		</if>

		<if>
			<isset var="threadBodyEdit" />
			<then>
				<execute action="PGMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadBodyEdit}" />
			</then>
		</if>

		<if>
			<equals arg1="${saveAsDraft}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#assertClick" locator-key1="SAVE_AS_DRAFT_BUTTON" value1="Save as Draft" />
			</then>
			<elseif>
				<equals arg1="${preview}" arg2="true" />
				<then>
					<execute action="PGMessageboardsPostthread#assertClickNoError" locator-key1="PREVIEW_BUTTON" value1="Preview" />
					<execute action="PGMessageboardsPostthread#confirm" locator-key1="CONFIRMATION" value1="In order to preview your changes, the message will be saved as a draft and other users may not be able to see it. Are you sure you want to do this?" />

					<var name="key_threadSubject" value="${threadSubject}" />

					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="Edit ${threadSubject}" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_WORKFLOW_STATUS_1" value1="Draft" />
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBodyEdit}" />
				</then>
			</elseif>
			<else>
				<execute action="PGMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />
			</else>
		</if>

		<execute action="PGMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="editViaMyPosts">
		<execute action="PGMessageboards#assertClick" locator-key1="NAVIGATION_MY_POSTS" value1="My Posts" />

		<var name="key_threadSubject" value="${threadSubject}" />

		<if>
			<equals arg1="threadSubjectEdit" arg2="true" />
			<then>
				<var name="key_threadSubject" value="${threadSubjectEdit}" />
			</then>
		</if>

		<execute action="PGMessageboardsMyposts#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="PGMessageboardsMyposts#click" locator-key1="THREAD_TABLE_ACTIONS" />
		<execute action="PGMessageboardsMyposts#assertClick" locator-key1="THREAD_MENULIST_EDIT" value1="Edit" />

		<execute action="PGMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />
		<execute action="PGMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="flagPG">
		<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_FLAG_1" value1="Flag" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="REPORT_INAPPROPRIATE_CONTENT_HEADER" value1="Report Inappropriate Content" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="REPORT_INAPPROPRIATE_CONTENT_WARNING" value1="You are about to report a violation of our Terms of Use. All reports are strictly confidential." />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="REPORT_INAPPROPRIATE_CONTENT_WARNING_TERMS_OF_USE_LINK" value1="Terms of Use" />
		<execute action="PGMessageboardsThread#select" locator-key1="REPORT_INAPPROPRIATE_CONTENT_REASON_SELECT" value1="${flagReason}" />
		<execute action="PGMessageboardsThread#assertClick" locator-key1="REPORT_INAPPROPRIATE_CONTENT_SAVE_BUTTON" value1="Save" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="REPORT_INAPPROPRIATE_CONTENT_SUCCESS_MESSAGE" value1="Although we cannot disclose our final decision, we do review every report and appreciate your effort to make sure Liferay is a safe environment for everyone." />
		<execute action="PGMessageboardsThread#click" locator-key1="REPORT_INAPPROPRIATE_CONTENT_CLOSE_BUTTON" />
	</command>

	<command name="gotoCP">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="CPMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
	</command>

	<command name="gotoPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<if>
			<isset var="messageBoardsThreadURL" />
			<then>
				<var method="selenium#getLocation()" name="currentURL" />

				<execute macro="TestUtils#assertEquals">
					<var name="actual" value="${currentURL}" />
					<var name="expected" value="${messageBoardsThreadURL}" />
				</execute>
			</then>
			<else>
				<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
				<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_STARTED_BY" value1="${startedByUserName}" />
				<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_POSTS" value1="${postCount}" />
				<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_LAST_POST" value1="${lastPostUserName}" />
				<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
			</else>
		</if>
	</command>

	<command name="lockPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertClick" locator-key1="THREAD_ACTIONS_LOCK_THREAD" value1="Lock Thread" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="markAsAnswerPG">
		<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_MARK_AS_AN_ANSWER_1" value1="Mark as an Answer" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_ANSWER_1" value1="Answer" />
	</command>

	<command name="movePG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<if>
			<equals arg1="${categoryDescriptionEnabled}" arg2="true" />
			<then>
				<var name="key_categoryDescription" value="${categoryDescription}" />

				<execute action="PGMessageboards#assertClick" locator-key1="CATEGORY_TABLE_CATEGORY_DESCRIPTION" value1="${categoryDescription}" />
			</then>
			<else>
				<var name="key_categoryName" value="${categoryName1}" />

				<execute action="PGMessageboards#assertClick" locator-key1="CATEGORY_TABLE_CATEGORY" value1="${categoryName1}" />
			</else>
		</if>

		<execute action="PGMessageboardsCategory#click" locator-key1="THREAD_TABLE_ACTIONS_GENERIC" />
		<execute action="PGMessageboardsCategory#assertClick" locator-key1="THREAD_MENULIST_MOVE" value1="Move" />

		<execute action="PGMessageboardsMovethread#assertClick" locator-key1="SELECT_BUTTON" value1="Select" />

		<execute action="PGMessageboardsMovethreadSelectcategory#selectFrame" locator-key1="SELECT_CATEGORY_IFRAME" />

		<var name="key_categoryName" value="${categoryName2}" />

		<execute action="PGMessageboardsMovethreadSelectcategory#assertClick" locator-key1="CATEGORY_TABLE_CHOOSE_BUTTON_2" value1="Choose" />

		<if>
			<equals arg1="${explanationPost}" arg2="true" />
			<then>
				<execute action="PGMessageboardsMovethread#selectFrame" value1="relative=top" />
				<execute action="PGMessageboardsMovethread#assertElementPresent" locator-key1="CATEGORY_FIELD" />
				<execute action="PGMessageboardsMovethread#check" locator-key1="ADD_EXPLANATION_POST_CHECKBOX" />
				<execute action="PGMessageboardsMovethread#type" locator-key1="ADD_EXPLANATION_POST_SUBJECT_FIELD" value1="${explanationSubject}" />
				<execute action="PGMessageboardsMovethread#type" locator-key1="ADD_EXPLANATION_POST_BODY_FIELD" value1="${explanationBody}" />
			</then>
		</if>

		<execute action="PGMessageboardsMovethread#selectFrame" value1="relative=top" />
		<execute action="PGMessageboardsMovethread#assertElementPresent" locator-key1="CATEGORY_FIELD" />
		<execute action="PGMessageboardsMovethread#assertClick" locator-key1="MOVE_THREAD_BUTTON" value1="Move Thread" />
	</command>

	<command name="moveToHomePG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<if>
			<equals arg1="${categoryDescriptionEnabled}" arg2="true" />
			<then>
				<var name="key_categoryDescription" value="${categoryDescription}" />

				<execute action="PGMessageboards#assertClick" locator-key1="CATEGORY_TABLE_CATEGORY_DESCRIPTION" value1="${categoryDescription}" />
			</then>
			<else>
				<var name="key_categoryName" value="${categoryName}" />

				<execute action="PGMessageboards#assertClick" locator-key1="CATEGORY_TABLE_CATEGORY" value1="${categoryName}" />
			</else>
		</if>

		<execute action="PGMessageboardsCategory#assertClick" locator-key1="THREAD_TABLE_ACTIONS_GENERIC" value1="Actions" />
		<execute action="PGMessageboardsCategory#assertClick" locator-key1="THREAD_MENULIST_MOVE" value1="Move" />

		<execute action="PGMessageboardsMovethread#assertClick" locator-key1="SELECT_BUTTON" value1="Select" />

		<execute action="PGMessageboardsMovethreadSelectcategory#selectFrame" locator-key1="SELECT_CATEGORY_IFRAME" />

		<if>
			<condition action="PGMessageboardsMovethreadSelectcategory#isElementPresent" locator-key1="CATEGORIES_LINK" />
			<then>
				<execute action="PGMessageboardsMovethreadSelectcategory#assertClick" locator-key1="CATEGORIES_LINK" value1="Categories" />
			</then>
		</if>

		<execute action="PGMessageboardsMovethreadSelectcategory#assertClick" locator-key1="CHOOSE_THIS_CATEGORY_BUTTON" value1="Choose This Category" />

		<if>
			<equals arg1="${explanationPost}" arg2="true" />
			<then>
				<execute action="PGMessageboardsMovethread#selectFrame" value1="relative=top" />
				<execute action="PGMessageboardsMovethread#assertElementPresent" locator-key1="CATEGORY_FIELD" />
				<execute action="PGMessageboardsMovethread#check" locator-key1="ADD_EXPLANATION_POST_CHECKBOX" />
				<execute action="PGMessageboardsMovethread#type" locator-key1="ADD_EXPLANATION_POST_SUBJECT_FIELD" value1="${explanationSubject}" />
				<execute action="PGMessageboardsMovethread#type" locator-key1="ADD_EXPLANATION_POST_BODY_FIELD" value1="${explanationBody}" />
			</then>
		</if>

		<execute action="PGMessageboardsMovethread#selectFrame" value1="relative=top" />
		<execute action="PGMessageboardsMovethread#assertElementPresent" locator-key1="CATEGORY_FIELD" />
		<execute action="PGMessageboardsMovethread#assertClick" locator-key1="MOVE_THREAD_BUTTON" value1="Move Thread" />
	</command>

	<command name="moveToRecycleBinCP">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="CPMessageboards#click" locator-key1="THREAD_TABLE_ACTIONS" />
		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_MENULIST_MOVE_TO_THE_RECYCLE_BIN" />
		<execute action="CPMessageboards#assertClick" locator-key1="THREAD_MENULIST_MOVE_TO_THE_RECYCLE_BIN" value1="Move to the Recycle Bin" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE_RECYCLE_BIN" value1="The ${assetType} ${threadSubject} was moved to the Recycle Bin. Undo" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="INFO_MESSAGE_THREAD" value1="There are no threads in this category." />
	</command>

	<command name="quickReplyPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_QUICK_REPLY_1" value1="Quick Reply" />

		<execute action="PGMessageboardsThread#type" locator-key1="QUICK_REPLY_BODY_FIELD" value1="${threadReplyBody}" />
		<execute action="PGMessageboardsThread#assertClick" locator-key1="QUICK_REPLY_PUBLISH_BUTTON" value1="Publish" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="ratePG">
		<if>
			<equals arg1="${ratingType}" arg2="Positive" />
			<then>
				<execute action="PGMessageboardsThread#click" locator-key1="MESSAGE_RATING_1_UPVOTE" />
			</then>
			<elseif>
				<equals arg1="${ratingType}" arg2="Negative" />
				<then>
					<execute action="PGMessageboardsThread#click" locator-key1="MESSAGE_RATING_1_DOWNVOTE" />
				</then>
			</elseif>
		</if>
	</command>

	<command name="removeViewPermissionsPG">
		<var name="key_roleName" value="${key_roleName?lowercase()}" />
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_ACTIONS" />
		<execute action="PGMessageboards#assertClick" locator-key1="THREAD_MENULIST_PERMISSIONS" value1="Permissions" />

		<execute action="Permissions#selectFrame" locator-key1="PERMISSIONS_IFRAME" />
		<execute action="Permissions#assertTextEquals" locator-key1="HEADER_TITLE" value1="${threadSubject}" />
		<execute action="Permissions#uncheck" locator-key1="CONFIGURATION_PERMISSIONS_VIEW_CHECKBOX" />
		<execute action="Permissions#assertClick" locator-key1="SAVE_BUTTON" value1="Save" />
		<execute action="Permissions#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
		<execute action="Permissions#selectFrame" value1="relative=top" />
	</command>

	<command name="replyCP">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="CPMessageboardsThread#assertClick" locator-key1="MESSAGE_REPLY_1" value1="Reply" />

		<execute action="CPMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadReplyBody}" />
		<execute action="CPMessageboardsPostthread#assertClick" locator-key1="PUBLISH_BUTTON" value1="Publish" />

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="replyPG">
		<if>
			<equals arg1="${displayStyle}" arg2="Question" />
			<then>
				<var name="key_threadSubject" value="${threadSubject}" />

				<execute action="PGMessageboardsCategory#assertClick" locator-key1="QUESTION_CATEGORY_THREAD_TABLE_QUESTION" value1="${threadSubject}" />
			</then>
			<else>
				<var name="key_threadSubject" value="${threadSubject}" />

				<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
				<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
			</else>
		</if>

		<if>
			<isset var="threadReplySpecific" />
			<then>
				<var name="key_threadBody" value="${threadBody}" />

				<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_REPLY_SPECIFIC" value1="Reply" />
			</then>
			<else>
				<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_REPLY_1" value1="Reply" />
			</else>
		</if>

		<execute action="PGMessageboardsPostthread#type" locator-key1="BODY_FIELD" value1="${threadReplyBody}" />

		<if>
			<equals arg1="${anonymous}" arg2="true" />
			<then>
				<execute action="PGMessageboardsPostthread#check" locator-key1="ANONYMOUS_CHECKBOX" />
			</then>
		</if>

		<if>
			<isset var="mbThreadAttachment" />
			<then>
				<if>
					<condition action="PGMessageboardsPostthread#isElementPresent" locator-key1="ATTACHMENTS_DROPDOWN_COLLAPSED" />
					<then>
						<execute action="PGMessageboardsPostthread#assertClick" locator-key1="ATTACHMENTS_DROPDOWN" value1="Attachments" />
					</then>
				</if>

				<execute action="PGMessageboardsPostthread#uploadCommonFile" locator-key1="ATTACHMENTS_FILE_FIELD_1" value1="${mbThreadAttachment}" />
			</then>
		</if>

		<execute action="PGMessageboardsPostthread#click" locator-key1="PUBLISH_BUTTON" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />

		<if>
			<equals arg1="${markAsAnswer}" arg2="true" />
			<then>
				<execute macro="MessageboardsThread#markAsAnswerPG" />
			</then>
		</if>
	</command>

	<command name="replyWithQuotePG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_REPLY_WITH_QUOTE_1" value1="Reply with Quote" />

		<execute action="PGMessageboardsPostthread#click" locator-key1="SOURCE_BUTTON" />
		<execute action="PGMessageboardsPostthread#type" locator-key1="BODY_FIELD_SOURCE_ON_SEND_KEYS" value1="${threadReplyBody}" />
		<execute action="PGMessageboardsPostthread#click" locator-key1="PUBLISH_BUTTON" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE" value1="Your request completed successfully." />
	</command>

	<command name="restoreMBAttachmentCP">
		<execute action="CPMessageboardsThread#click" locator-key1="MESSAGE_BODY_ATTACHMENT_1" />

		<var name="key_mbAttachmentFile" value="${mbAttachmentFile}" />

		<execute action="CPMessageboardsRemovedAttachments#assertTextEquals" locator-key1="ATTACHMENT_TABLE_NAME" value1="${mbAttachmentFile}" />
		<execute action="CPMessageboardsRemovedAttachments#click" locator-key1="ATTACHMENT_TABLE_ACTIONS" />
		<execute action="CPMessageboardsRemovedAttachments#assertClick" locator-key1="ATTACHMENT_MENULIST_RESTORE" value1="Restore" />
		<execute action="CPMessageboardsRemovedAttachments#assertTextEquals" locator-key1="INFO_MESSAGE" value1="This message does not have file attachments in the Recycle Bin." />
	</command>

	<command name="searchPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#type" locator-key1="NAVIGATION_SEARCH_FIELD" value1="${threadKeyword}" />
		<execute action="PGMessageboards#assertClick" locator-key1="NAVIGATION_SEARCH_BUTTON" value1="Search" />

		<execute action="PGMessageboardsSearch#assertTextEquals" locator-key1="SEARCH_RESULTS_ENTRY_TITLE" value1="${threadSubject}" />
	</command>

	<command name="splitThreadPG">
		<var name="key_threadBody" value="${threadReplyBody}" />

		<execute action="PGMessageboardsThread#assertClick" locator-key1="MESSAGE_SPLIT_THREAD" value1="Split Thread" />

		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboardsSplitthread#assertTextEquals" locator-key1="INFO_MESSAGE" value1="Click OK to create a new thread with the following messages." />
		<execute action="PGMessageboardsSplitthread#assertTextEquals" locator-key1="THREAD_TABLE_SUBJECT" value1="RE: ${threadSubject}" />
		<execute action="PGMessageboardsSplitthread#type" locator-key1="SUBJECT_FIELD" value1="${threadSplitSubject}" />
		<execute action="PGMessageboardsSplitthread#assertTextEquals" locator-key1="ADD_EXPLANATION_POST_LABEL" value1="Add explanation post to the source thread." />
		<execute action="PGMessageboardsSplitthread#check" locator-key1="ADD_EXPLANATION_POST_CHECKBOX" />
		<execute action="PGMessageboardsSplitthread#assertTextEquals" locator-key1="ADD_EXPLANATION_POST_INFO_MESSAGE" value1="The following post will be added in place of the moved message." />
		<execute action="PGMessageboardsSplitthread#type" locator-key1="ADD_EXPLANATION_POST_SUBJECT_FIELD" value1="${threadSplitReplySubject}" />
		<execute action="PGMessageboardsSplitthread#type" locator-key1="ADD_EXPLANATION_POST_BODY_FIELD" value1="${threadSplitReplyBody}" />
		<execute action="PGMessageboardsSplitthread#assertClick" locator-key1="OK_BUTTON" value1="OK" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSplitSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadReplyBody}" />
		<execute action="PGMessageboardsThread#assertElementNotPresent" locator-key1="MESSAGE_BODY_2" />
	</command>

	<command name="tearDownCP">
		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Message Boards" />
		</execute>

		<if>
			<condition action="CPMessageboards#isElementPresent" locator-key1="THREAD_TABLE_ALL_CHECKBOX" />
			<then>
				<execute action="CPMessageboards#check" locator-key1="THREAD_TABLE_ALL_CHECKBOX" />
				<execute action="CPMessageboards#assertClick" locator-key1="THREADS_RECYCLE_BIN_BUTTON" value1="Move to the Recycle Bin" />
				<execute action="CPMessageboards#assertTextEquals" locator-key1="SUCCESS_MESSAGE_RECYCLE_BIN" value1="moved to the Recycle Bin. Undo" />
			</then>
		</if>

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Recycle Bin" />
		</execute>

		<execute macro="RecycleBin#emptyCP" />
	</command>

	<command name="tearDownPG">
		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<while>
			<condition action="PGMessageboards#isElementPresent" locator-key1="THREAD_TABLE_ACTIONS_GENERIC" />
			<then>
				<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_ACTIONS_GENERIC" />
				<execute action="PGMessageboardsMyposts#assertClick" locator-key1="THREAD_MENULIST_MOVE_TO_THE_RECYCLE_BIN" value1="Move to the Recycle Bin" />
			</then>
		</while>

		<execute action="PGMessageboards#assertClick" locator-key1="NAVIGATION_MY_POSTS" value1="My Posts" />

		<while>
			<condition action="PGMessageboardsMyposts#isElementPresent" locator-key1="THREAD_TABLE_ACTIONS_GENERIC" />
			<then>
				<execute action="PGMessageboardsMyposts#click" locator-key1="THREAD_TABLE_ACTIONS_GENERIC" />
				<execute action="PGMessageboardsMyposts#assertClick" locator-key1="THREAD_MENULIST_MOVE_TO_THE_RECYCLE_BIN" value1="Move to the Recycle Bin" />
			</then>
		</while>

		<execute macro="Page#gotoContentCP">
			<var name="portletName" value="Recycle Bin" />
		</execute>

		<execute macro="RecycleBin#emptyCP" />
	</command>

	<command name="viewAnonymousPostingCheckboxCP">
		<execute action="CPMessageboards#assertClick" locator-key1="POST_NEW_THREAD_BUTTON" value1="Post New Thread" />

		<execute action="CPMessageboardsPostthread#assertElementPresent" locator-key1="ANONYMOUS_CHECKBOX" />
	</command>

	<command name="viewCP">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_CHECKBOX" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_FLAG" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_STARTED_BY" value1="${userName}" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_POSTS" value1="${postsNumber}" />
		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_VIEWS" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_LAST_POST" value1="${userName}" />
		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_ACTIONS" />
		<execute action="CPMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSubject}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBody}" />

		<if>
			<isset var="mbAttachmentFile" />
			<then>
				<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_ATTACHMENT_1" value1="${mbAttachmentFile}" />
			</then>
		</if>
	</command>

	<command name="viewDefaultCP">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="CPMessageboards#assertTextEquals" locator-key1="INFO_MESSAGE_THREAD" value1="There are no threads in this category." />
		<execute action="CPMessageboards#assertTextNotPresent" value1="${threadSubject}" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_CHECKBOX" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_THREAD" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_FLAG" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_STARTED_BY" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_POSTS" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_VIEWS" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_LAST_POST" />
		<execute action="CPMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_ACTIONS" />
	</command>

	<command name="viewLockedPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_THREAD_LOCKED_ICON" />
		<execute action="PGMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="THREAD_ACTIONS_UNLOCK_THREAD" value1="Unlock Thread" />
		<execute action="PGMessageboardsThread#assertElementNotPresent" locator-key1="MESSAGE_REPLY_1" value1="Reply" />
		<execute action="PGMessageboardsThread#assertElementNotPresent" locator-key1="MESSAGE_QUICK_REPLY_1" value1="Quick Reply" />
		<execute action="PGMessageboardsThread#assertElementNotPresent" locator-key1="MESSAGE_REPLY_WITH_QUOTE_1" value1="Reply with Quote" />
		<execute action="PGMessageboardsThread#assertElementNotPresent" locator-key1="MESSAGE_EDIT_1" value1="Edit" />
	</command>

	<command name="viewMarkAsAnswerPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<if>
			<equals arg1="${displayStyle}" arg2="Question" />
			<then>
				<execute action="PGMessageboardsCategory#assertTextEquals" locator-key1="QUESTION_CATEGORY_THREAD_TABLE_STATISTICS_ANSWERS" value1="${questionAnswers}" />
				<execute action="PGMessageboardsCategory#assertClick" locator-key1="QUESTION_CATEGORY_THREAD_TABLE_QUESTION" value1="${threadSubject}" />
			</then>
			<else>
				<execute action="PGMessageboards#assertClick" locator-key1="THREAD_TABLE_FLAG" value1="Resolved" />
				<execute action="PGMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
			</else>
		</if>

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_ANSWER_1" value1="Answer" />
	</command>

	<command name="viewNoAnonymousPostingCheckboxCP">
		<execute action="CPMessageboards#assertClick" locator-key1="POST_NEW_THREAD_BUTTON" value1="Post New Thread" />

		<execute action="CPMessageboardsPostthread#assertElementNotPresent" locator-key1="ANONYMOUS_CHECKBOX" />
	</command>

	<command name="viewNoPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="INFO_MESSAGE_THREAD" value1="There are no threads in this category." />
		<execute action="CPMessageboards#assertTextNotPresent" value1="${threadSubject}" />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_THREAD"  />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_STARTED_BY" />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_POSTS" />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_LAST_POST" />
	</command>

	<command name="viewNoXSSPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertAlertNotPresent" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="" />
	</command>

	<command name="viewPG">
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBody}" />

		<if>
			<isset var="threadSubject2" />
			<then>
				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSubject}" />
				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_2" value1="${userName}" />

				<var name="key_threadSubject" value="${threadSubject2}" />

				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_2" value1="${threadSubject2}" />
				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_2" value1="${threadBody2}" />
			</then>
		</if>

		<if>
			<isset var="workflowTask" />
			<then>
				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_WORKFLOW_STATUS_1" value1="Pending (${workflowTask})" />
			</then>
		</if>
	</command>

	<command name="viewPGViaAP">
		<var name="key_assetTitle" value="${threadSubject}" />

		<execute action="PGAssetpublisher#assertTextEquals" locator-key1="ASSET_ABSTRACT_TITLE" value1="${threadSubject}" />
		<execute action="PGAssetpublisher#assertTextEquals" locator-key1="ASSET_ABSTRACT_DESCRIPTION" value1="${threadBody}" />
		<execute action="PGAssetpublisher#assertClick" locator-key1="ASSET_ABSTRACT_TITLE" value1="${threadSubject}" />

		<execute action="PGAssetpublisherAsset#assertTextEquals" locator-key1="ASSET_TITLE" value1="${threadSubject}" />
		<execute action="PGAssetpublisherAsset#assertTextEquals" locator-key1="ASSET_MESSAGE_BOARDS_THREAD_SUBJECT" value1="${threadSubject}" />
		<execute action="PGAssetpublisherAsset#assertTextEquals" locator-key1="ASSET_MESSAGE_BOARDS_THREAD_BODY" value1="${threadBody}" />
	</command>

	<command name="viewRatingPG">
		<if>
			<equals arg1="${ratingType}" arg2="Positive" />
			<then>
				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_RATING_1" value1="+1 (1 Vote)" />
			</then>
			<elseif>
				<equals arg1="${ratingType}" arg2="Negative" />
				<then>
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_RATING_1" value1="-1 (1 Vote)" />
				</then>
			</elseif>
		</if>
	</command>

	<command name="viewReplyCP">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_CHECKBOX" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_FLAG" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_STARTED_BY" value1="${userName}" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_POSTS" value1="${postsNumber}" />
		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_VIEWS" />
		<execute action="CPMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_LAST_POST" value1="${userName}" />
		<execute action="CPMessageboards#assertElementPresent" locator-key1="THREAD_TABLE_ACTIONS" />
		<execute action="CPMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSubject}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBody}" />

		<if>
			<isset var="mbAttachmentFile" />
			<then>
				<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_ATTACHMENT_1" value1="${mbAttachmentFile}" />
			</then>
		</if>

		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_2" value1="${userName2}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_2" value1="RE: ${threadSubject}" />
		<execute action="CPMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_2" value1="${threadBody2}" />
	</command>

	<command name="viewReplyPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_STARTED_BY" value1="${userName}" />
		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_POSTS" value1="${postCount}" />
		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_LAST_POST" value1="${userName}" />
		<execute action="PGMessageboards#click" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="THREAD_TABLE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="THREAD_TABLE_SUBJECT_2" value1="RE: ${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBody}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_RATING_1_UPVOTE" value1="0" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_2" value1="RE: ${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_2" value1="${threadReplyBody}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_2" value1="${userName}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_RATING_2_UPVOTE" value1="0" />

		<if>
			<isset var="mbThreadAttachment" />
			<then>
				<var name="key_mbThreadAttachment" value="${mbThreadAttachment}" />

				<execute action="PGMessageboardsThread#assertElementPresent" locator-key1="MESSAGE_ATTACHMENT_IMAGE" />
			</then>
		</if>
	</command>

	<command name="viewSplitThreadPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_POSTS" value1="2" />
		<execute action="PGMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBody}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_2" value1="${threadSplitReplySubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_2" value1="${threadSplitReplyBody}" />

		<execute macro="Page#gotoPG">
			<var name="pageName" value="${pageName}" />
		</execute>

		<var name="key_threadSubject" value="${threadSplitSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSplitSubject}" />
		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_POSTS" value1="1" />
		<execute action="PGMessageboards#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSplitSubject}" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSplitSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSplitSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadReplyBody}" />
		<execute action="PGMessageboardsThread#assertElementNotPresent" locator-key1="MESSAGE_SUBJECT_2" />
		<execute action="PGMessageboardsThread#assertElementNotPresent" locator-key1="MESSAGE_BODY_2" />
	</command>

	<command name="viewStatisticsPostsCountDefaultPG">
		<execute action="PGMessageboards#assertClick" locator-key1="NAVIGATION_STATISTICS" value1="Statistics" />

		<if>
			<condition action="PGMessageboardsStatistics#isElementPresent" locator-key1="GENERAL_DROPDOWN_COLLAPSED" />
			<then>
				<execute action="PGMessageboardsStatistics#assertClick" locator-key1="GENERAL_DROPDOWN" value1="General" />
			</then>
		</if>

		<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="GENERAL_NUMBER_OF_CATEGORIES" value1="0" />
		<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="GENERAL_NUMBER_OF_POSTS" value1="0" />
		<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="GENERAL_NUMBER_OF_PARTICIPANTS" value1="0" />
		<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="INFO_MESSAGE" value1="There are no top posters." />
	</command>

	<command name="viewStatisticsPostsCountPG">
		<execute action="PGMessageboards#assertClick" locator-key1="NAVIGATION_STATISTICS" value1="Statistics" />

		<if>
			<condition action="PGMessageboardsStatistics#isElementPresent" locator-key1="GENERAL_DROPDOWN_COLLAPSED" />
			<then>
				<execute action="PGMessageboardsStatistics#assertClick" locator-key1="GENERAL_DROPDOWN" value1="General" />
			</then>
		</if>

		<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="GENERAL_NUMBER_OF_POSTS" value1="${threadPostNumber}" />

		<if>
			<isset var="userPostNumber" />
			<then>
				<execute macro="MessageboardsThread#viewStatisticsTopPoster" />
			</then>
			<else>
				<execute macro="MessageboardsThread#viewStatisticsTopPoster">
					<var name="userPostNumber" value="${threadPostNumber}" />
				</execute>
			</else>
		</if>
	</command>

	<command name="viewStatisticsTopPoster">
		<execute action="PGMessageboards#assertClick" locator-key1="NAVIGATION_STATISTICS" value1="Statistics" />

		<if>
			<condition action="PGMessageboardsStatistics#isElementPresent" locator-key1="TOP_POSTERS_DROPDOWN_COLLAPSED" />
			<then>
				<execute action="PGMessageboardsStatistics#assertClick" locator-key1="TOP_POSTERS_DROPDOWN" value1="Top Posters" />
			</then>
		</if>

		<var name="key_userName" value="${userName}" />

		<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="TOP_POSTERS_AUTHOR_NAME" value1="${userName}" />

		<if>
			<isset var="userMessageboardsRank" />
			<then>
				<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="TOP_POSTERS_AUTHOR_RANK" value1="Rank: ${userMessageboardsRank}" />
			</then>
			<else>
				<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="TOP_POSTERS_AUTHOR_RANK" value1="Rank: Youngling" />
			</else>
		</if>

		<execute action="PGMessageboardsStatistics#assertTextEquals" locator-key1="TOP_POSTERS_AUTHOR_POSTS" value1="Posts: ${userPostNumber}" />
		<execute action="PGMessageboardsStatistics#assertElementPresent" locator-key1="TOP_POSTERS_AUTHOR_JOIN_DATE" />
		<execute action="PGMessageboardsStatistics#assertElementPresent" locator-key1="TOP_POSTERS_AUTHOR_LAST_POST_DATE" />
		<execute action="PGMessageboardsStatistics#assertElementPresent" locator-key1="TOP_POSTERS_AUTHOR_PROFILE_PICTURE" />
	</command>

	<command name="viewTagPG">
		<var name="key_tagName" value="${tagName?lowercase()}" />
		<var name="tagName" value="${tagName?lowercase()}" />

		<if>
			<equals arg1="${messageTagNumber}" arg2="1" />
			<then>
				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_TAG_1" value1="${tagName}" />
			</then>
			<elseif>
				<equals arg1="${messageTagNumber}" arg2="2" />
				<then>
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_TAG_2" value1="${tagName}" />
				</then>
			</elseif>
			<elseif>
				<equals arg1="${messageTagNumber}" arg2="3" />
				<then>
					<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_TAG_3" value1="${tagName}" />
				</then>
			</elseif>
			<else>
				<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_TAG_1" value1="${tagName}" />
			</else>
		</if>
	</command>

	<command name="viewWaitingForAnswerPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertTextEquals" locator-key1="THREAD_TABLE_FLAG" value1="Waiting for an Answer" />
	</command>

	<command name="viewWithWorkflowPG">
		<var name="key_threadSubject" value="${threadSubject}" />

		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_THREAD" />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_STARTED_BY" />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_POSTS" />
		<execute action="PGMessageboards#assertElementNotPresent" locator-key1="THREAD_TABLE_LAST_POST" />

		<execute action="PGMessageboards#assertClick" locator-key1="NAVIGATION_MY_POSTS" value1="My Posts" />

		<execute action="PGMessageboardsMyposts#assertTextEquals" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />
		<execute action="PGMessageboardsMyposts#assertTextEquals" locator-key1="THREAD_TABLE_STATUS" value1="Pending" />

		<execute action="PGMessageboardsMyposts#assertClick" locator-key1="THREAD_TABLE_THREAD" value1="${threadSubject}" />

		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="TITLE_HEADER" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_USERNAME_1" value1="${userName}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_SUBJECT_1" value1="${threadSubject}" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_WORKFLOW_STATUS_1" value1="Pending (${workflowTask})" />
		<execute action="PGMessageboardsThread#assertTextEquals" locator-key1="MESSAGE_BODY_1" value1="${threadBody}" />
	</command>

	<command name="viewWithWorkflowPGViaAP">
		<var name="key_assetTitle" value="${threadSubject}" />

		<execute action="PGAssetpublisher#assertElementNotPresent" locator-key1="ASSET_ABSTRACT_TITLE" value1="${threadSubject}" />
	</command>
</definition>