@import "compass";

body.dark {
	background: #363636;
	color: #E3E3E3;
	font-weight: lighter;

	&.yui3-skin-sam .yui3-widget-mask {
		background-color: #111;
	}

	a {
		color: #009CEB;
	}

	legend {
		color: #E3E3E3;
	}

	.modal-content {
		color: #555;

		legend {
			color: #555;
		}
	}

	.portlet-wiki .portlet-body h3 {
		color: #E3E3E3;
	}

	.taglib-header {
		color: #E3E3E3;
	}

	/* ---------- Dockbar ---------- */

	.dockbar {
		.nav {
			li.dropdown {
				.dropdown-menu {
					background: #007BB3;
				}
			}
		}
	}

	/* ---------- Nav#Navigation ---------- */

	nav#breadcrumbs {
		padding-left: 10px;
	}

	#navigation {
		.navbar-inner {
			background: #2F2F2F;
			border: 0;

			.nav {
				> li {
					margin-right: 5px;

					> a {
						color: #E3E3E3;
					}
				}

				li {
					padding: 8px 0;

					&.active {
						> a {
							background: #00CAFF;
							color: #FFF;
						}
					}

					&.open {
						> a {
							background: #00CAFF;
							color: #FFF;
						}

						> .dropdown-toggle {
							background: #00CAFF;
							color: #FFF;
						}
					}
				}

				.dropdown-menu {
					background-color: #FFF;
					border: 1px solid rgba(0, 0, 0, 0.2);
					@include border-radius(6px);

					&:after {
						border-left: 6px solid transparent;
						border-right: 6px solid transparent;
						border-bottom: 6px solid white;
					}

					&:before {
						border-left: 7px solid transparent;
						border-right: 7px solid transparent;
						border-bottom: 7px solid #ccc;
					}

					a {
						color: #555;

						&:focus, &:hover {
							background: #00CAFF;
							color: #FFF;
							text-decoration: none;
						}
					}
				}
			}
		}
	}

	.modify-pages .delete-tab {
		top: 10px;
	}

	/* ---------- Breadcrumbs ---------- */

	.breadcrumb {
		background: transparent;

		li a {
			color: #E3E3E3;
		}
	}

	.lfr-header-row-content {
		padding: 3px 0 0;
	}

	/* ---------- Portlet ---------- */

	section.portlet {
		background: #363636;
	}

	.portlet-asset-publisher .lfr-meta-actions {
		margin-right: 0;
	}

	.portlet-content {
		border: 0;
	}

	.portlet-title {
		color: #00CAFF;
		font-weight: lighter;
	}

	.portlet-topper {
		background: transparent;
	}

	/* ---------- Portlet hover styles ---------- */

	.portlet-borderless-container {
		background: transparent;
	}

	&.signed-in {
		section.portlet {
			border: 2px solid transparent;

			menu.portlet-topper-toolbar {
				text-align: center;
				background: #00CAFF;
				height: 20px;
				line-height: normal;
				padding: 2px 0 0 0;
				width: 20px;

				&:after {
					content: "•••";
					font-size: 10px;
				}

				.portlet-close, .portlet-maximize, .portlet-minimize, .portlet-options {
					display: none;
				}
			}

			&:hover {
				border: 2px solid #00CAFF;

				menu.portlet-topper-toolbar {
					background: #00CAFF;
					height: auto;
					padding: 2px 0 3px 5px;
					overflow: hidden;
					width: auto;

					&:after {
						content: " ";
					}

					.portlet-close, .portlet-maximize, .portlet-minimize {
						display: inline;
					}

					.portlet-close a {
						background: #FF8400;
						padding: 3px 1px 5px 3px;
					}

					.portlet-icon-back {
						margin-top: -4px;
					}

					.portlet-options {
						display: inline-block;
					}
				}
			}
		}

		section.portlet#portlet_new-password {
			menu.portlet-topper-toolbar {
				background: transparent;

				&:after {
					content: " ";
				}
			}

			&:hover {
				border: 2px solid transparent;

				menu.portlet-topper-toolbar {
					background: transparent;
				}
			}
		}

		&.controls-hidden {
			section.portlet:hover {
				border-color: transparent;
			}
		}

		/* ---------- Remove hover styles from maximized portlets ---------- */

		.columns-max {
			section.portlet {
				.portlet-topper-toolbar {
					background: transparent;
					height: auto;
					width: auto;

					&:after {
						content: " ";
					}
				}

				&:hover {
					border: 2px solid transparent;

					.portlet-topper-toolbar {
						background: transparent;
					}
				}
			}
		}
	}

/* ---------- Iframe Popup ---------- */

.dialog-iframe-root-node {
	body.darker {
		background: transparent;
		color: #555;

		legend {
			color: #555;
		}
	}
}

	/* ---------- Extras ---------- */

	a {
		@include text-shadow(none);
	}

	nav#navigation {
		.navbar-inner {
			@include box-shadow(none);

			ul.nav {
				li {
					&.open {
						> a {
							@include border-radius(3px);
							@include box-shadow(none);
							@include text-shadow(none);
						}

						> .dropdown-toggle {
							@include border-radius(3px);
							@include text-shadow(none);
						}
					}

					a {
						@include text-shadow(none);
					}
				}

				li.active {
					> a {
						@include border-radius(3px);
						@include box-shadow(none);
						@include text-shadow(none);
					}
				}
			}
		}
	}

	section.portlet {
		.admin.portlet-topper-toolbar:before {
			@include border-radius(2px);
		}
	}

	section.portlet.active {
		@include border-radius(4px);
	}

	&.signed-in {
		section.portlet {
			menu.portlet-topper-toolbar {
				@include border-radius(3px);
			}

			&:hover {
				@include border-radius(3px);

				menu.portlet-topper-toolbar {
					@include border-radius(2px);
				}
			}
		}
	}
}
